{
  "enabled": true,
  "name": "LLM Policy Documentation Sync",
  "description": "Automatically synchronizes all internal LLM usage guidelines (training restrictions, data separation, role permissions) with developer documentation and audit trail when policy files are modified",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      ".compliance/internal-rules.json",
      ".llm-policy/*.md",
      ".kiro/steering/AI Communication framework and policy.md",
      ".kiro/steering/Bedrock Approval Policy.md"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "LLM policy files have been modified. Please:\n\n1. **Generate/Update docs/llm-policy.md** with current policy state from .compliance/internal-rules.json and .llm-policy/*.md\n2. **Create audit trail entry** in .audit/llm-policy-history/ with timestamp format: llm-policy_YYYY-MM-DD_HH-mm.json\n3. **Update docs/release-guidance.md** to include automatic cross-references to the updated LLM policy documentation\n4. **Optional: Send notification** if Slack webhook is configured in environment\n\nEnsure the generated documentation includes:\n- Training restrictions and data separation policies\n- Role-based permissions and access controls\n- Compliance requirements and audit procedures\n- Version history and change tracking\n- Automatic linking in release guidance documentation\n\nCreate the audit entry with policy snapshot, timestamp, and change summary for compliance tracking."
  }
}