03cb59eaa170b598d22f5668f18cbeb4
"use strict";
/**
 * Implementation Support Tests
 *
 * Comprehensive test suite for Implementation Support System covering
 * gap detection, remediation suggestions, auto-resolution, and backlog analysis.
 */
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
// Mock dependencies
jest.mock("../ai-feature-flags");
jest.mock("../direct-bedrock-client");
jest.mock("../intelligent-router");
const implementation_support_1 = require("../implementation-support");
describe("ImplementationSupport", () => {
    let implementationSupport;
    let mockDirectBedrockClient;
    let mockIntelligentRouter;
    let mockConfig;
    beforeEach(() => {
        // Create mocks
        mockDirectBedrockClient = {
            executeSupportOperation: jest.fn(),
            getHealthStatus: jest.fn(),
            isAvailable: jest.fn(),
            destroy: jest.fn(),
        };
        mockIntelligentRouter = {
            executeSupportOperation: jest.fn(),
            makeRoutingDecision: jest.fn(),
            checkRouteHealth: jest.fn(),
            destroy: jest.fn(),
        };
        mockConfig = {
            scanInterval: 1000, // 1 second for testing
            autoResolutionEnabled: true,
            maxAutoResolutionAttempts: 2,
            analysisTimeout: 5000,
            backlogAnalysisInterval: 2000,
            enableContinuousMonitoring: false, // Disable for testing
            riskThreshold: "medium",
            testingRequired: false, // Disable for testing
        };
        // Mock feature flags to be enabled
        const mockFeatureFlags = require("../ai-feature-flags").AiFeatureFlags;
        mockFeatureFlags.prototype.isEnabled = jest.fn().mockReturnValue(true);
        implementationSupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter, mockConfig);
    });
    afterEach(() => {
        implementationSupport.destroy();
        jest.clearAllMocks();
    });
    describe("Constructor", () => {
        it("should initialize with default configuration", () => {
            const defaultSupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter);
            expect(defaultSupport).toBeDefined();
            expect(defaultSupport.getMetrics().totalGapsDetected).toBe(0);
            defaultSupport.destroy();
        });
        it("should merge custom configuration with defaults", () => {
            const customConfig = { scanInterval: 5000 };
            const customSupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter, customConfig);
            expect(customSupport).toBeDefined();
            customSupport.destroy();
        });
    });
    describe("detectImplementationGaps", () => {
        it("should detect implementation gaps", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({
                    gaps: [
                        {
                            type: "missing_implementation",
                            severity: "high",
                            title: "Missing user authentication",
                            description: "User authentication module is not implemented",
                            affectedModules: ["auth", "user"],
                            businessImpact: "Users cannot log in",
                            estimatedEffort: "medium",
                            confidence: 0.9,
                            technicalDetails: {
                                missingComponents: ["AuthService", "LoginForm"],
                            },
                        },
                        {
                            type: "performance_issue",
                            severity: "medium",
                            title: "Slow database queries",
                            description: "Database queries are not optimized",
                            affectedModules: ["database"],
                            businessImpact: "Poor user experience",
                            estimatedEffort: "low",
                            confidence: 0.8,
                            technicalDetails: {
                                performanceMetrics: { queryTime: 2000 },
                            },
                        },
                    ],
                }),
                operationId: "gap-detection",
                latencyMs: 200,
                timestamp: new Date(),
            });
            const gaps = yield implementationSupport.detectImplementationGaps();
            expect(gaps).toHaveLength(2);
            expect(gaps[0].type).toBe("missing_implementation");
            expect(gaps[0].severity).toBe("high");
            expect(gaps[0].title).toBe("Missing user authentication");
            expect(gaps[1].type).toBe("performance_issue");
            expect(gaps[1].severity).toBe("medium");
            expect(mockIntelligentRouter.executeSupportOperation).toHaveBeenCalledWith(expect.objectContaining({
                operation: "implementation",
                priority: "high",
            }));
        }));
        it("should detect gaps for specific modules", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({ gaps: [] }),
                operationId: "gap-detection",
                latencyMs: 100,
                timestamp: new Date(),
            });
            const gaps = yield implementationSupport.detectImplementationGaps([
                "auth",
                "user",
            ]);
            expect(gaps).toEqual([]);
            expect(mockIntelligentRouter.executeSupportOperation).toHaveBeenCalledWith(expect.objectContaining({
                context: expect.objectContaining({
                    metadata: expect.objectContaining({
                        modules: ["auth", "user"],
                    }),
                }),
            }));
        }));
        it("should handle detection errors gracefully", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockRejectedValue(new Error("Detection failed"));
            const gaps = yield implementationSupport.detectImplementationGaps();
            expect(gaps).toEqual([]);
        }));
        it("should skip detection when feature is disabled", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const mockFeatureFlags = require("../ai-feature-flags").AiFeatureFlags;
            mockFeatureFlags.prototype.isEnabled = jest.fn().mockReturnValue(false);
            const disabledSupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter, mockConfig);
            const gaps = yield disabledSupport.detectImplementationGaps();
            expect(gaps).toEqual([]);
            expect(mockIntelligentRouter.executeSupportOperation).not.toHaveBeenCalled();
            disabledSupport.destroy();
        }));
    });
    describe("generateRemediationSuggestions", () => {
        const mockGap = {
            gapId: "gap-123",
            type: "missing_implementation",
            severity: "high",
            title: "Missing authentication",
            description: "Authentication module not implemented",
            affectedModules: ["auth"],
            detectedAt: new Date(),
            lastUpdated: new Date(),
            status: "detected",
            confidence: 0.9,
            estimatedEffort: "medium",
            businessImpact: "Users cannot authenticate",
            technicalDetails: {
                missingComponents: ["AuthService"],
            },
        };
        it("should generate remediation suggestions", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({
                    suggestions: [
                        {
                            type: "code_fix",
                            priority: "high",
                            title: "Implement AuthService",
                            description: "Create authentication service with login/logout",
                            implementation: {
                                steps: ["Create AuthService class", "Implement login method"],
                                codeChanges: [
                                    {
                                        file: "src/services/AuthService.ts",
                                        changes: "export class AuthService { login() {} }",
                                        explanation: "Basic auth service implementation",
                                    },
                                ],
                            },
                            estimatedTime: "4 hours",
                            riskLevel: "low",
                            testingRequired: true,
                            autoResolvable: true,
                        },
                    ],
                }),
                operationId: "remediation",
                latencyMs: 300,
                timestamp: new Date(),
            });
            const suggestions = yield implementationSupport.generateRemediationSuggestions(mockGap);
            expect(suggestions).toHaveLength(1);
            expect(suggestions[0].type).toBe("code_fix");
            expect(suggestions[0].priority).toBe("high");
            expect(suggestions[0].title).toBe("Implement AuthService");
            expect(suggestions[0].autoResolvable).toBe(true);
            expect(suggestions[0].implementation.codeChanges).toHaveLength(1);
            // Check that gap status was updated
            const gaps = implementationSupport.getDetectedGaps();
            const updatedGap = gaps.find((g) => g.gapId === mockGap.gapId);
            expect(updatedGap === null || updatedGap === void 0 ? void 0 : updatedGap.status).toBe("remediation_suggested");
        }));
        it("should handle critical gaps with higher priority", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const criticalGap = Object.assign(Object.assign({}, mockGap), { severity: "critical" });
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({
                    suggestions: [
                        {
                            type: "code_fix",
                            priority: "urgent",
                            title: "Critical fix",
                            description: "Urgent security fix",
                            implementation: { steps: ["Fix security issue"] },
                            estimatedTime: "1 hour",
                            riskLevel: "high",
                            testingRequired: true,
                            autoResolvable: false,
                        },
                    ],
                }),
                operationId: "critical-remediation",
                latencyMs: 150,
                timestamp: new Date(),
            });
            const suggestions = yield implementationSupport.generateRemediationSuggestions(criticalGap);
            expect(suggestions).toHaveLength(1);
            expect(suggestions[0].priority).toBe("urgent");
            expect(mockIntelligentRouter.executeSupportOperation).toHaveBeenCalledWith(expect.objectContaining({
                priority: "critical",
            }));
        }));
        it("should handle suggestion generation errors", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockRejectedValue(new Error("Suggestion generation failed"));
            const suggestions = yield implementationSupport.generateRemediationSuggestions(mockGap);
            expect(suggestions).toEqual([]);
        }));
    });
    describe("attemptAutoResolution", () => {
        const mockGap = {
            gapId: "gap-auto",
            type: "missing_implementation",
            severity: "medium",
            title: "Missing component",
            description: "Component not implemented",
            affectedModules: ["components"],
            detectedAt: new Date(),
            lastUpdated: new Date(),
            status: "remediation_suggested",
            confidence: 0.8,
            estimatedEffort: "low",
            businessImpact: "Minor functionality missing",
            technicalDetails: {},
        };
        const mockSuggestion = {
            suggestionId: "suggestion-auto",
            gapId: "gap-auto",
            type: "code_fix",
            priority: "medium",
            title: "Add missing component",
            description: "Create the missing component",
            implementation: {
                steps: ["Create component file"],
                codeChanges: [
                    {
                        file: "src/components/MissingComponent.tsx",
                        changes: "export const MissingComponent = () => <div>Component</div>;",
                        explanation: "Basic component implementation",
                    },
                ],
            },
            estimatedTime: "1 hour",
            riskLevel: "low",
            testingRequired: false,
            createdAt: new Date(),
            autoResolvable: true,
        };
        it("should successfully auto-resolve implementation gap", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const result = yield implementationSupport.attemptAutoResolution(mockGap, mockSuggestion);
            expect(result.status).toBe("success");
            expect(result.gapId).toBe(mockGap.gapId);
            expect(result.suggestionId).toBe(mockSuggestion.suggestionId);
            expect(result.appliedChanges.filesModified).toContain("src/components/MissingComponent.tsx");
            expect(result.rollbackAvailable).toBe(true);
            // Check that gap status was updated
            const gaps = implementationSupport.getDetectedGaps();
            const resolvedGap = gaps.find((g) => g.gapId === mockGap.gapId);
            expect(resolvedGap === null || resolvedGap === void 0 ? void 0 : resolvedGap.status).toBe("resolved");
            // Check metrics
            const metrics = implementationSupport.getMetrics();
            expect(metrics.autoResolutionsAttempted).toBe(1);
            expect(metrics.autoResolutionsSuccessful).toBe(1);
            expect(metrics.gapsResolved).toBe(1);
        }));
        it("should fail auto-resolution for non-auto-resolvable suggestions", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const nonAutoSuggestion = Object.assign(Object.assign({}, mockSuggestion), { autoResolvable: false });
            const result = yield implementationSupport.attemptAutoResolution(mockGap, nonAutoSuggestion);
            expect(result.status).toBe("failed");
            expect(result.error).toContain("not auto-resolvable");
            // Check that gap status was updated to failed
            const gaps = implementationSupport.getDetectedGaps();
            const failedGap = gaps.find((g) => g.gapId === mockGap.gapId);
            expect(failedGap === null || failedGap === void 0 ? void 0 : failedGap.status).toBe("failed");
        }));
        it("should fail auto-resolution for high-risk suggestions", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const highRiskSuggestion = Object.assign(Object.assign({}, mockSuggestion), { riskLevel: "high" });
            const result = yield implementationSupport.attemptAutoResolution(mockGap, highRiskSuggestion);
            expect(result.status).toBe("failed");
            expect(result.error).toContain("risk level exceeds threshold");
        }));
        it("should fail auto-resolution when disabled", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const disabledConfig = Object.assign(Object.assign({}, mockConfig), { autoResolutionEnabled: false });
            const disabledSupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter, disabledConfig);
            const result = yield disabledSupport.attemptAutoResolution(mockGap, mockSuggestion);
            expect(result.status).toBe("failed");
            expect(result.error).toContain("Auto-resolution is disabled");
            disabledSupport.destroy();
        }));
        it("should handle configuration changes", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const suggestionWithConfig = Object.assign(Object.assign({}, mockSuggestion), { implementation: Object.assign(Object.assign({}, mockSuggestion.implementation), { configurationChanges: [
                        {
                            file: "config.json",
                            changes: { feature: "enabled" },
                            explanation: "Enable feature",
                        },
                    ] }) });
            const result = yield implementationSupport.attemptAutoResolution(mockGap, suggestionWithConfig);
            expect(result.status).toBe("success");
            expect(result.appliedChanges.configurationsChanged).toContain("config.json");
        }));
        it("should handle dependency updates", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const suggestionWithDeps = Object.assign(Object.assign({}, mockSuggestion), { implementation: Object.assign(Object.assign({}, mockSuggestion.implementation), { dependencies: {
                        add: ["new-package"],
                        update: { "existing-package": "^2.0.0" },
                    } }) });
            const result = yield implementationSupport.attemptAutoResolution(mockGap, suggestionWithDeps);
            expect(result.status).toBe("success");
            expect(result.appliedChanges.dependenciesUpdated).toContain("package.json");
        }));
    });
    describe("analyzeBacklog", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            // Add some gaps to analyze
            mockIntelligentRouter.executeSupportOperation.mockResolvedValueOnce({
                success: true,
                text: JSON.stringify({
                    gaps: [
                        {
                            type: "missing_implementation",
                            severity: "high",
                            title: "Missing auth",
                            description: "Auth not implemented",
                            affectedModules: ["auth"],
                            businessImpact: "Users cannot login",
                            estimatedEffort: "medium",
                            confidence: 0.9,
                            technicalDetails: {},
                        },
                        {
                            type: "performance_issue",
                            severity: "medium",
                            title: "Slow queries",
                            description: "Database queries are slow",
                            affectedModules: ["database"],
                            businessImpact: "Poor performance",
                            estimatedEffort: "low",
                            confidence: 0.8,
                            technicalDetails: {},
                        },
                    ],
                }),
                operationId: "gap-detection",
                latencyMs: 200,
                timestamp: new Date(),
            });
            yield implementationSupport.detectImplementationGaps();
        }));
        it("should analyze backlog and provide recommendations", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({
                    prioritizedGaps: ["gap-1", "gap-2"],
                    suggestedSprints: [
                        {
                            sprintNumber: 1,
                            duration: "2 weeks",
                            gaps: ["gap-1"],
                            estimatedEffort: "20 hours",
                            businessValue: "High - enables user authentication",
                        },
                        {
                            sprintNumber: 2,
                            duration: "1 week",
                            gaps: ["gap-2"],
                            estimatedEffort: "8 hours",
                            businessValue: "Medium - improves performance",
                        },
                    ],
                    recommendations: {
                        immediate: ["Fix authentication issues"],
                        shortTerm: ["Optimize database queries"],
                        longTerm: ["Redesign authentication system"],
                    },
                    riskAssessment: {
                        highRiskGaps: ["gap-1"],
                        blockers: ["Missing auth service"],
                        dependencies: { "gap-2": ["gap-1"] },
                    },
                }),
                operationId: "backlog-analysis",
                latencyMs: 500,
                timestamp: new Date(),
            });
            const analysis = yield implementationSupport.analyzeBacklog();
            expect(analysis).toBeDefined();
            expect(analysis.totalGaps).toBeGreaterThan(0);
            expect(analysis.suggestedSprints).toHaveLength(2);
            expect(analysis.recommendations.immediate).toContain("Fix authentication issues");
            expect(analysis.riskAssessment.highRiskGaps).toContain("gap-1");
            // Check metrics
            const metrics = implementationSupport.getMetrics();
            expect(metrics.backlogAnalysesPerformed).toBe(1);
        }));
        it("should handle empty backlog", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            // Create support with no gaps
            const emptySupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter, mockConfig);
            const analysis = yield emptySupport.analyzeBacklog();
            expect(analysis.totalGaps).toBe(0);
            expect(analysis.prioritizedGaps).toEqual([]);
            expect(analysis.suggestedSprints).toEqual([]);
            emptySupport.destroy();
        }));
        it("should handle backlog analysis errors", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockRejectedValue(new Error("Backlog analysis failed"));
            const analysis = yield implementationSupport.analyzeBacklog();
            expect(analysis.totalGaps).toBe(0);
            expect(analysis.prioritizedGaps).toEqual([]);
        }));
    });
    describe("Health Status and Metrics", () => {
        it("should return health status", () => {
            const health = implementationSupport.getHealthStatus();
            expect(health).toBeDefined();
            expect(health.isHealthy).toBeDefined();
            expect(health.totalGaps).toBeDefined();
            expect(health.resolvedGaps).toBeDefined();
            expect(health.resolutionRate).toBeDefined();
            expect(health.metrics).toBeDefined();
        });
        it("should return metrics", () => {
            const metrics = implementationSupport.getMetrics();
            expect(metrics).toBeDefined();
            expect(metrics.totalGapsDetected).toBeDefined();
            expect(metrics.gapsResolved).toBeDefined();
            expect(metrics.autoResolutionsAttempted).toBeDefined();
            expect(metrics.detectedGapsCount).toBeDefined();
        });
        it("should calculate health based on resolution rate", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            // Add and resolve some gaps
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({
                    gaps: [
                        {
                            type: "missing_implementation",
                            severity: "medium",
                            title: "Test gap",
                            description: "Test description",
                            affectedModules: ["test"],
                            businessImpact: "Test impact",
                            estimatedEffort: "low",
                            confidence: 0.8,
                            technicalDetails: {},
                        },
                    ],
                }),
                operationId: "test",
                latencyMs: 100,
                timestamp: new Date(),
            });
            yield implementationSupport.detectImplementationGaps();
            const healthBefore = implementationSupport.getHealthStatus();
            expect(healthBefore.resolutionRate).toBe(0); // No gaps resolved yet
            // Simulate resolving the gap
            const gaps = implementationSupport.getDetectedGaps();
            if (gaps.length > 0) {
                gaps[0].status = "resolved";
            }
            const healthAfter = implementationSupport.getHealthStatus();
            expect(healthAfter.resolutionRate).toBeGreaterThan(0);
        }));
    });
    describe("Gap Management", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({
                    gaps: [
                        {
                            type: "missing_implementation",
                            severity: "high",
                            title: "High severity gap",
                            description: "High severity description",
                            affectedModules: ["module1"],
                            businessImpact: "High impact",
                            estimatedEffort: "medium",
                            confidence: 0.9,
                            technicalDetails: {},
                        },
                        {
                            type: "performance_issue",
                            severity: "low",
                            title: "Low severity gap",
                            description: "Low severity description",
                            affectedModules: ["module2"],
                            businessImpact: "Low impact",
                            estimatedEffort: "low",
                            confidence: 0.7,
                            technicalDetails: {},
                        },
                    ],
                }),
                operationId: "gap-detection",
                latencyMs: 200,
                timestamp: new Date(),
            });
            yield implementationSupport.detectImplementationGaps();
        }));
        it("should get all detected gaps", () => {
            const gaps = implementationSupport.getDetectedGaps();
            expect(gaps).toHaveLength(2);
            expect(gaps.some((g) => g.severity === "high")).toBe(true);
            expect(gaps.some((g) => g.severity === "low")).toBe(true);
        });
        it("should filter gaps by severity", () => {
            const highSeverityGaps = implementationSupport.getGapsBySeverity("high");
            const lowSeverityGaps = implementationSupport.getGapsBySeverity("low");
            expect(highSeverityGaps).toHaveLength(1);
            expect(highSeverityGaps[0].severity).toBe("high");
            expect(lowSeverityGaps).toHaveLength(1);
            expect(lowSeverityGaps[0].severity).toBe("low");
        });
        it("should get suggestions for specific gap", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const gaps = implementationSupport.getDetectedGaps();
            const testGap = gaps[0];
            // Generate suggestions for the gap
            mockIntelligentRouter.executeSupportOperation.mockResolvedValue({
                success: true,
                text: JSON.stringify({
                    suggestions: [
                        {
                            type: "code_fix",
                            priority: "high",
                            title: "Fix implementation",
                            description: "Implement missing functionality",
                            implementation: { steps: ["Step 1"] },
                            estimatedTime: "2 hours",
                            riskLevel: "low",
                            testingRequired: false,
                            autoResolvable: true,
                        },
                    ],
                }),
                operationId: "suggestions",
                latencyMs: 300,
                timestamp: new Date(),
            });
            yield implementationSupport.generateRemediationSuggestions(testGap);
            const suggestions = implementationSupport.getSuggestionsForGap(testGap.gapId);
            expect(suggestions).toHaveLength(1);
            expect(suggestions[0].gapId).toBe(testGap.gapId);
        }));
    });
    describe("Resource Management", () => {
        it("should cleanup resources on destroy", () => {
            const metrics = implementationSupport.getMetrics();
            expect(metrics.detectedGapsCount).toBeGreaterThanOrEqual(0);
            implementationSupport.destroy();
            // After destroy, data should be cleared
            const postDestroyMetrics = implementationSupport.getMetrics();
            expect(postDestroyMetrics.detectedGapsCount).toBe(0);
        });
        it("should handle multiple destroy calls safely", () => {
            expect(() => {
                implementationSupport.destroy();
                implementationSupport.destroy();
            }).not.toThrow();
        });
    });
    describe("Configuration Validation", () => {
        it("should work with minimal configuration", () => {
            const minimalSupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter, { scanInterval: 1000 });
            expect(minimalSupport).toBeDefined();
            expect(minimalSupport.getHealthStatus()).toBeDefined();
            minimalSupport.destroy();
        });
        it("should handle invalid configuration gracefully", () => {
            const invalidConfig = {
                scanInterval: -1000,
                maxAutoResolutionAttempts: -1,
            };
            expect(() => {
                const invalidSupport = new implementation_support_1.ImplementationSupport(mockDirectBedrockClient, mockIntelligentRouter, invalidConfig);
                invalidSupport.destroy();
            }).not.toThrow();
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hdGJha2gtdmlzaWJpbGl0eS1ib29zdC4yMDI1MDkyMC9zcmMvbGliL2FpLW9yY2hlc3RyYXRvci9fX3Rlc3RzX18vaW1wbGVtZW50YXRpb24tc3VwcG9ydC50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7R0FLRzs7O0FBV0gsb0JBQW9CO0FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNqQyxJQUFJLENBQUMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLENBQUM7QUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBWG5DLHNFQUttQztBQVFuQyxRQUFRLENBQUMsdUJBQXVCLEVBQUUsR0FBRyxFQUFFO0lBQ3JDLElBQUkscUJBQTRDLENBQUM7SUFDakQsSUFBSSx1QkFBeUQsQ0FBQztJQUM5RCxJQUFJLHFCQUFxRCxDQUFDO0lBQzFELElBQUksVUFBdUMsQ0FBQztJQUU1QyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsZUFBZTtRQUNmLHVCQUF1QixHQUFHO1lBQ3hCLHVCQUF1QixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDbEMsZUFBZSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDMUIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDdEIsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDWixDQUFDO1FBRVQscUJBQXFCLEdBQUc7WUFDdEIsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNsQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQzlCLGdCQUFnQixFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDM0IsT0FBTyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDWixDQUFDO1FBRVQsVUFBVSxHQUFHO1lBQ1gsWUFBWSxFQUFFLElBQUksRUFBRSx1QkFBdUI7WUFDM0MscUJBQXFCLEVBQUUsSUFBSTtZQUMzQix5QkFBeUIsRUFB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QUFJO2dCQUNuQix5QkFBeUIsRUFBRSxDQUFDLENBQUM7YUFDdkIsQ0FBQztZQUVULE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ1YsTUFBTSxjQUFjLEdBQUcsSUFBSSw4Q0FBcUIsQ0FDOUMsdUJBQXVCLEVBQ3ZCLHFCQUFxQixFQUNyQixhQUFhLENBQ2QsQ0FBQztnQkFDRixjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDM0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ25CLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvbWF0YmFraC12aXNpYmlsaXR5LWJvb3N0LjIwMjUwOTIwL3NyYy9saWIvYWktb3JjaGVzdHJhdG9yL19fdGVzdHNfXy9pbXBsZW1lbnRhdGlvbi1zdXBwb3J0LnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBTdXBwb3J0IFRlc3RzXG4gKlxuICogQ29tcHJlaGVuc2l2ZSB0ZXN0IHN1aXRlIGZvciBJbXBsZW1lbnRhdGlvbiBTdXBwb3J0IFN5c3RlbSBjb3ZlcmluZ1xuICogZ2FwIGRldGVjdGlvbiwgcmVtZWRpYXRpb24gc3VnZ2VzdGlvbnMsIGF1dG8tcmVzb2x1dGlvbiwgYW5kIGJhY2tsb2cgYW5hbHlzaXMuXG4gKi9cblxuaW1wb3J0IHsgRGlyZWN0QmVkcm9ja0NsaWVudCB9IGZyb20gXCIuLi9kaXJlY3QtYmVkcm9jay1jbGllbnRcIjtcbmltcG9ydCB7XG4gIEltcGxlbWVudGF0aW9uR2FwLFxuICBJbXBsZW1lbnRhdGlvblN1cHBvcnQsXG4gIEltcGxlbWVudGF0aW9uU3VwcG9ydENvbmZpZyxcbiAgUmVtZWRpYXRpb25TdWdnZXN0aW9uLFxufSBmcm9tIFwiLi4vaW1wbGVtZW50YXRpb24tc3VwcG9ydFwiO1xuaW1wb3J0IHsgSW50ZWxsaWdlbnRSb3V0ZXIgfSBmcm9tIFwiLi4vaW50ZWxsaWdlbnQtcm91dGVyXCI7XG5cbi8vIE1vY2sgZGVwZW5kZW5jaWVzXG5qZXN0Lm1vY2soXCIuLi9haS1mZWF0dXJlLWZsYWdzXCIpO1xuamVzdC5tb2NrKFwiLi4vZGlyZWN0LWJlZHJvY2stY2xpZW50XCIpO1xuamVzdC5tb2NrKFwiLi4vaW50ZWxsaWdlbnQtcm91dGVyXCIpO1xuXG5kZXNjcmliZShcIkltcGxlbWVudGF0aW9uU3VwcG9ydFwiLCAoKSA9PiB7XG4gIGxldCBpbXBsZW1lbnRhdGlvblN1cHBvcnQ6IEltcGxlbWVudGF0aW9uU3VwcG9ydDtcbiAgbGV0IG1vY2tEaXJlY3RCZWRyb2NrQ2xpZW50OiBqZXN0Lk1vY2tlZDxEaXJlY3RCZWRyb2NrQ2xpZW50PjtcbiAgbGV0IG1vY2tJbnRlbGxpZ2VudFJvdXRlcjogamVzdC5Nb2NrZWQ8SW50ZWxsaWdlbnRSb3V0ZXI+O1xuICBsZXQgbW9ja0NvbmZpZzogSW1wbGVtZW50YXRpb25TdXBwb3J0Q29uZmlnO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIENyZWF0ZSBtb2Nrc1xuICAgIG1vY2tEaXJlY3RCZWRyb2NrQ2xpZW50ID0ge1xuICAgICAgZXhlY3V0ZVN1cHBvcnRPcGVyYXRpb246IGplc3QuZm4oKSxcbiAgICAgIGdldEhlYWx0aFN0YXR1czogamVzdC5mbigpLFxuICAgICAgaXNBdmFpbGFibGU6IGplc3QuZm4oKSxcbiAgICAgIGRlc3Ryb3k6IGplc3QuZm4oKSxcbiAgICB9IGFzIGFueTtcblxuICAgIG1vY2tJbnRlbGxpZ2VudFJvdXRlciA9IHtcbiAgICAgIGV4ZWN1dGVTdXBwb3J0T3BlcmF0aW9uOiBqZXN0LmZuKCksXG4gICAgICBtYWtlUm91dGluZ0RlY2lzaW9uOiBqZXN0LmZuKCksXG4gICAgICBjaGVja1JvdXRlSGVhbHRoOiBqZXN0LmZuKCksXG4gICAgICBkZXN0cm95OiBqZXN0LmZuKCksXG4gICAgfSBhcyBhbnk7XG5cbiAgICBtb2NrQ29uZmlnID0ge1xuICAgICAgc2NhbkludGVydmFsOiAxMDAwLCAvLyAxIHNlY29uZCBmb3IgdGVzdGluZ1xuICAgICAgYXV0b1Jlc29sdXRpb25FbmFibGVkOiB0cnVlLFxuICAgICAgbWF4QXV0b1Jlc29sdXRpb25BdHRlbXB0czogMixcbiAgICAgIGFuYWx5c2lzVGltZW91dDogNTAwMCxcbiAgICAgIGJhY2tsb2dBbmFseXNpc0ludGVydmFsOiAyMDAwLFxuICAgICAgZW5hYmxlQ29udGludW91c01vbml0b3Jpbmc6IGZhbHNlLCAvLyBEaXNhYmxlIGZvciB0ZXN0aW5nXG4gICAgICByaXNrVGhyZXNob2xkOiBcIm1lZGl1bVwiLFxuICAgICAgdGVzdGluZ1JlcXVpcmVkOiBmYWxzZSwgLy8gRGlzYWJsZSBmb3IgdGVzdGluZ1xuICAgIH07XG5cbiAgICAvLyBNb2NrIGZlYXR1cmUgZmxhZ3MgdG8gYmUgZW5hYmxlZFxuICAgIGNvbnN0IG1vY2tGZWF0dXJlRmxhZ3MgPSByZXF1aXJlKFwiLi4vYWktZmVhdHVyZS1mbGFnc1wiKS5BaUZlYXR1cmVGbGFncztcbiAgICBtb2NrRmVhdHVyZUZsYWdzLnByb3RvdHlwZS5pc0VuYWJsZWQgPSBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHRydWUpO1xuXG4gICAgaW1wbGVtZW50YXRpb25TdXBwb3J0ID0gbmV3IEltcGxlbWVudGF0aW9uU3VwcG9ydChcbiAgICAgIG1vY2tEaXJlY3RCZWRyb2NrQ2xpZW50LFxuICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLFxuICAgICAgbW9ja0NvbmZpZ1xuICAgICk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgaW1wbGVtZW50YXRpb25TdXBwb3J0LmRlc3Ryb3koKTtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJDb25zdHJ1Y3RvclwiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgaW5pdGlhbGl6ZSB3aXRoIGRlZmF1bHQgY29uZmlndXJhdGlvblwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBkZWZhdWx0U3VwcG9ydCA9IG5ldyBJbXBsZW1lbnRhdGlvblN1cHBvcnQoXG4gICAgICAgIG1vY2tEaXJlY3RCZWRyb2NrQ2xpZW50LFxuICAgICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXJcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChkZWZhdWx0U3VwcG9ydCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0U3VwcG9ydC5nZXRNZXRyaWNzKCkudG90YWxHYXBzRGV0ZWN0ZWQpLnRvQmUoMCk7XG5cbiAgICAgIGRlZmF1bHRTdXBwb3J0LmRlc3Ryb3koKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIG1lcmdlIGN1c3RvbSBjb25maWd1cmF0aW9uIHdpdGggZGVmYXVsdHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgY3VzdG9tQ29uZmlnID0geyBzY2FuSW50ZXJ2YWw6IDUwMDAgfTtcbiAgICAgIGNvbnN0IGN1c3RvbVN1cHBvcnQgPSBuZXcgSW1wbGVtZW50YXRpb25TdXBwb3J0KFxuICAgICAgICBtb2NrRGlyZWN0QmVkcm9ja0NsaWVudCxcbiAgICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLFxuICAgICAgICBjdXN0b21Db25maWdcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChjdXN0b21TdXBwb3J0KS50b0JlRGVmaW5lZCgpO1xuICAgICAgY3VzdG9tU3VwcG9ydC5kZXN0cm95KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZGV0ZWN0SW1wbGVtZW50YXRpb25HYXBzXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBkZXRlY3QgaW1wbGVtZW50YXRpb24gZ2Fwc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXIuZXhlY3V0ZVN1cHBvcnRPcGVyYXRpb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0ZXh0OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgZ2FwczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcIm1pc3NpbmdfaW1wbGVtZW50YXRpb25cIixcbiAgICAgICAgICAgICAgc2V2ZXJpdHk6IFwiaGlnaFwiLFxuICAgICAgICAgICAgICB0aXRsZTogXCJNaXNzaW5nIHVzZXIgYXV0aGVudGljYXRpb25cIixcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVXNlciBhdXRoZW50aWNhdGlvbiBtb2R1bGUgaXMgbm90IGltcGxlbWVudGVkXCIsXG4gICAgICAgICAgICAgIGFmZmVjdGVkTW9kdWxlczogW1wiYXV0aFwiLCBcInVzZXJcIl0sXG4gICAgICAgICAgICAgIGJ1c2luZXNzSW1wYWN0OiBcIlVzZXJzIGNhbm5vdCBsb2cgaW5cIixcbiAgICAgICAgICAgICAgZXN0aW1hdGVkRWZmb3J0OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICAgICAgICAgIHRlY2huaWNhbERldGFpbHM6IHtcbiAgICAgICAgICAgICAgICBtaXNzaW5nQ29tcG9uZW50czogW1wiQXV0aFNlcnZpY2VcIiwgXCJMb2dpbkZvcm1cIl0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcInBlcmZvcm1hbmNlX2lzc3VlXCIsXG4gICAgICAgICAgICAgIHNldmVyaXR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICB0aXRsZTogXCJTbG93IGRhdGFiYXNlIHF1ZXJpZXNcIixcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRGF0YWJhc2UgcXVlcmllcyBhcmUgbm90IG9wdGltaXplZFwiLFxuICAgICAgICAgICAgICBhZmZlY3RlZE1vZHVsZXM6IFtcImRhdGFiYXNlXCJdLFxuICAgICAgICAgICAgICBidXNpbmVzc0ltcGFjdDogXCJQb29yIHVzZXIgZXhwZXJpZW5jZVwiLFxuICAgICAgICAgICAgICBlc3RpbWF0ZWRFZmZvcnQ6IFwibG93XCIsXG4gICAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgICAgICAgICAgdGVjaG5pY2FsRGV0YWlsczoge1xuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlTWV0cmljczogeyBxdWVyeVRpbWU6IDIwMDAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICAgIG9wZXJhdGlvbklkOiBcImdhcC1kZXRlY3Rpb25cIixcbiAgICAgICAgbGF0ZW5jeU1zOiAyMDAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBnYXBzID0gYXdhaXQgaW1wbGVtZW50YXRpb25TdXBwb3J0LmRldGVjdEltcGxlbWVudGF0aW9uR2FwcygpO1xuXG4gICAgICBleHBlY3QoZ2FwcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KGdhcHNbMF0udHlwZSkudG9CZShcIm1pc3NpbmdfaW1wbGVtZW50YXRpb25cIik7XG4gICAgICBleHBlY3QoZ2Fwc1swXS5zZXZlcml0eSkudG9CZShcImhpZ2hcIik7XG4gICAgICBleHBlY3QoZ2Fwc1swXS50aXRsZSkudG9CZShcIk1pc3NpbmcgdXNlciBhdXRoZW50aWNhdGlvblwiKTtcbiAgICAgIGV4cGVjdChnYXBzWzFdLnR5cGUpLnRvQmUoXCJwZXJmb3JtYW5jZV9pc3N1ZVwiKTtcbiAgICAgIGV4cGVjdChnYXBzWzFdLnNldmVyaXR5KS50b0JlKFwibWVkaXVtXCIpO1xuXG4gICAgICBleHBlY3QoXG4gICAgICAgIG1vY2tJbnRlbGxpZ2VudFJvdXRlci5leGVjdXRlU3VwcG9ydE9wZXJhdGlvblxuICAgICAgKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG9wZXJhdGlvbjogXCJpbXBsZW1lbnRhdGlvblwiLFxuICAgICAgICAgIHByaW9yaXR5OiBcImhpZ2hcIixcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBkZXRlY3QgZ2FwcyBmb3Igc3BlY2lmaWMgbW9kdWxlc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXIuZXhlY3V0ZVN1cHBvcnRPcGVyYXRpb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0ZXh0OiBKU09OLnN0cmluZ2lmeSh7IGdhcHM6IFtdIH0pLFxuICAgICAgICBvcGVyYXRpb25JZDogXCJnYXAtZGV0ZWN0aW9uXCIsXG4gICAgICAgIGxhdGVuY3lNczogMTAwLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZ2FwcyA9IGF3YWl0IGltcGxlbWVudGF0aW9uU3VwcG9ydC5kZXRlY3RJbXBsZW1lbnRhdGlvbkdhcHMoW1xuICAgICAgICBcImF1dGhcIixcbiAgICAgICAgXCJ1c2VyXCIsXG4gICAgICBdKTtcblxuICAgICAgZXhwZWN0KGdhcHMpLnRvRXF1YWwoW10pO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXIuZXhlY3V0ZVN1cHBvcnRPcGVyYXRpb25cbiAgICAgICkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBjb250ZXh0OiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRhZGF0YTogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgICBtb2R1bGVzOiBbXCJhdXRoXCIsIFwidXNlclwiXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBkZXRlY3Rpb24gZXJyb3JzIGdyYWNlZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLmV4ZWN1dGVTdXBwb3J0T3BlcmF0aW9uLm1vY2tSZWplY3RlZFZhbHVlKFxuICAgICAgICBuZXcgRXJyb3IoXCJEZXRlY3Rpb24gZmFpbGVkXCIpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBnYXBzID0gYXdhaXQgaW1wbGVtZW50YXRpb25TdXBwb3J0LmRldGVjdEltcGxlbWVudGF0aW9uR2FwcygpO1xuXG4gICAgICBleHBlY3QoZ2FwcykudG9FcXVhbChbXSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBza2lwIGRldGVjdGlvbiB3aGVuIGZlYXR1cmUgaXMgZGlzYWJsZWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0ZlYXR1cmVGbGFncyA9IHJlcXVpcmUoXCIuLi9haS1mZWF0dXJlLWZsYWdzXCIpLkFpRmVhdHVyZUZsYWdzO1xuICAgICAgbW9ja0ZlYXR1cmVGbGFncy5wcm90b3R5cGUuaXNFbmFibGVkID0gamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZShmYWxzZSk7XG5cbiAgICAgIGNvbnN0IGRpc2FibGVkU3VwcG9ydCA9IG5ldyBJbXBsZW1lbnRhdGlvblN1cHBvcnQoXG4gICAgICAgIG1vY2tEaXJlY3RCZWRyb2NrQ2xpZW50LFxuICAgICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXIsXG4gICAgICAgIG1vY2tDb25maWdcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGdhcHMgPSBhd2FpdCBkaXNhYmxlZFN1cHBvcnQuZGV0ZWN0SW1wbGVtZW50YXRpb25HYXBzKCk7XG5cbiAgICAgIGV4cGVjdChnYXBzKS50b0VxdWFsKFtdKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLmV4ZWN1dGVTdXBwb3J0T3BlcmF0aW9uXG4gICAgICApLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgIGRpc2FibGVkU3VwcG9ydC5kZXN0cm95KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2VuZXJhdGVSZW1lZGlhdGlvblN1Z2dlc3Rpb25zXCIsICgpID0+IHtcbiAgICBjb25zdCBtb2NrR2FwOiBJbXBsZW1lbnRhdGlvbkdhcCA9IHtcbiAgICAgIGdhcElkOiBcImdhcC0xMjNcIixcbiAgICAgIHR5cGU6IFwibWlzc2luZ19pbXBsZW1lbnRhdGlvblwiLFxuICAgICAgc2V2ZXJpdHk6IFwiaGlnaFwiLFxuICAgICAgdGl0bGU6IFwiTWlzc2luZyBhdXRoZW50aWNhdGlvblwiLFxuICAgICAgZGVzY3JpcHRpb246IFwiQXV0aGVudGljYXRpb24gbW9kdWxlIG5vdCBpbXBsZW1lbnRlZFwiLFxuICAgICAgYWZmZWN0ZWRNb2R1bGVzOiBbXCJhdXRoXCJdLFxuICAgICAgZGV0ZWN0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIGxhc3RVcGRhdGVkOiBuZXcgRGF0ZSgpLFxuICAgICAgc3RhdHVzOiBcImRldGVjdGVkXCIsXG4gICAgICBjb25maWRlbmNlOiAwLjksXG4gICAgICBlc3RpbWF0ZWRFZmZvcnQ6IFwibWVkaXVtXCIsXG4gICAgICBidXNpbmVzc0ltcGFjdDogXCJVc2VycyBjYW5ub3QgYXV0aGVudGljYXRlXCIsXG4gICAgICB0ZWNobmljYWxEZXRhaWxzOiB7XG4gICAgICAgIG1pc3NpbmdDb21wb25lbnRzOiBbXCJBdXRoU2VydmljZVwiXSxcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGl0KFwic2hvdWxkIGdlbmVyYXRlIHJlbWVkaWF0aW9uIHN1Z2dlc3Rpb25zXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tJbnRlbGxpZ2VudFJvdXRlci5leGVjdXRlU3VwcG9ydE9wZXJhdGlvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRleHQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBzdWdnZXN0aW9uczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImNvZGVfZml4XCIsXG4gICAgICAgICAgICAgIHByaW9yaXR5OiBcImhpZ2hcIixcbiAgICAgICAgICAgICAgdGl0bGU6IFwiSW1wbGVtZW50IEF1dGhTZXJ2aWNlXCIsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZSBhdXRoZW50aWNhdGlvbiBzZXJ2aWNlIHdpdGggbG9naW4vbG9nb3V0XCIsXG4gICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uOiB7XG4gICAgICAgICAgICAgICAgc3RlcHM6IFtcIkNyZWF0ZSBBdXRoU2VydmljZSBjbGFzc1wiLCBcIkltcGxlbWVudCBsb2dpbiBtZXRob2RcIl0sXG4gICAgICAgICAgICAgICAgY29kZUNoYW5nZXM6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogXCJzcmMvc2VydmljZXMvQXV0aFNlcnZpY2UudHNcIixcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlczogXCJleHBvcnQgY2xhc3MgQXV0aFNlcnZpY2UgeyBsb2dpbigpIHt9IH1cIixcbiAgICAgICAgICAgICAgICAgICAgZXhwbGFuYXRpb246IFwiQmFzaWMgYXV0aCBzZXJ2aWNlIGltcGxlbWVudGF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGVzdGltYXRlZFRpbWU6IFwiNCBob3Vyc1wiLFxuICAgICAgICAgICAgICByaXNrTGV2ZWw6IFwibG93XCIsXG4gICAgICAgICAgICAgIHRlc3RpbmdSZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgYXV0b1Jlc29sdmFibGU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgICBvcGVyYXRpb25JZDogXCJyZW1lZGlhdGlvblwiLFxuICAgICAgICBsYXRlbmN5TXM6IDMwMCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID1cbiAgICAgICAgYXdhaXQgaW1wbGVtZW50YXRpb25TdXBwb3J0LmdlbmVyYXRlUmVtZWRpYXRpb25TdWdnZXN0aW9ucyhtb2NrR2FwKTtcblxuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0udHlwZSkudG9CZShcImNvZGVfZml4XCIpO1xuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zWzBdLnByaW9yaXR5KS50b0JlKFwiaGlnaFwiKTtcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS50aXRsZSkudG9CZShcIkltcGxlbWVudCBBdXRoU2VydmljZVwiKTtcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5hdXRvUmVzb2x2YWJsZSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChzdWdnZXN0aW9uc1swXS5pbXBsZW1lbnRhdGlvbi5jb2RlQ2hhbmdlcykudG9IYXZlTGVuZ3RoKDEpO1xuXG4gICAgICAvLyBDaGVjayB0aGF0IGdhcCBzdGF0dXMgd2FzIHVwZGF0ZWRcbiAgICAgIGNvbnN0IGdhcHMgPSBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZ2V0RGV0ZWN0ZWRHYXBzKCk7XG4gICAgICBjb25zdCB1cGRhdGVkR2FwID0gZ2Fwcy5maW5kKChnKSA9PiBnLmdhcElkID09PSBtb2NrR2FwLmdhcElkKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkR2FwPy5zdGF0dXMpLnRvQmUoXCJyZW1lZGlhdGlvbl9zdWdnZXN0ZWRcIik7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYW5kbGUgY3JpdGljYWwgZ2FwcyB3aXRoIGhpZ2hlciBwcmlvcml0eVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjcml0aWNhbEdhcDogSW1wbGVtZW50YXRpb25HYXAgPSB7XG4gICAgICAgIC4uLm1vY2tHYXAsXG4gICAgICAgIHNldmVyaXR5OiBcImNyaXRpY2FsXCIsXG4gICAgICB9O1xuXG4gICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXIuZXhlY3V0ZVN1cHBvcnRPcGVyYXRpb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0ZXh0OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjb2RlX2ZpeFwiLFxuICAgICAgICAgICAgICBwcmlvcml0eTogXCJ1cmdlbnRcIixcbiAgICAgICAgICAgICAgdGl0bGU6IFwiQ3JpdGljYWwgZml4XCIsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlVyZ2VudCBzZWN1cml0eSBmaXhcIixcbiAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb246IHsgc3RlcHM6IFtcIkZpeCBzZWN1cml0eSBpc3N1ZVwiXSB9LFxuICAgICAgICAgICAgICBlc3RpbWF0ZWRUaW1lOiBcIjEgaG91clwiLFxuICAgICAgICAgICAgICByaXNrTGV2ZWw6IFwiaGlnaFwiLFxuICAgICAgICAgICAgICB0ZXN0aW5nUmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgIGF1dG9SZXNvbHZhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICAgIG9wZXJhdGlvbklkOiBcImNyaXRpY2FsLXJlbWVkaWF0aW9uXCIsXG4gICAgICAgIGxhdGVuY3lNczogMTUwLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3VnZ2VzdGlvbnMgPVxuICAgICAgICBhd2FpdCBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZ2VuZXJhdGVSZW1lZGlhdGlvblN1Z2dlc3Rpb25zKGNyaXRpY2FsR2FwKTtcblxuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0ucHJpb3JpdHkpLnRvQmUoXCJ1cmdlbnRcIik7XG4gICAgICBleHBlY3QoXG4gICAgICAgIG1vY2tJbnRlbGxpZ2VudFJvdXRlci5leGVjdXRlU3VwcG9ydE9wZXJhdGlvblxuICAgICAgKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHByaW9yaXR5OiBcImNyaXRpY2FsXCIsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIHN1Z2dlc3Rpb24gZ2VuZXJhdGlvbiBlcnJvcnNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLmV4ZWN1dGVTdXBwb3J0T3BlcmF0aW9uLm1vY2tSZWplY3RlZFZhbHVlKFxuICAgICAgICBuZXcgRXJyb3IoXCJTdWdnZXN0aW9uIGdlbmVyYXRpb24gZmFpbGVkXCIpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBzdWdnZXN0aW9ucyA9XG4gICAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uU3VwcG9ydC5nZW5lcmF0ZVJlbWVkaWF0aW9uU3VnZ2VzdGlvbnMobW9ja0dhcCk7XG5cbiAgICAgIGV4cGVjdChzdWdnZXN0aW9ucykudG9FcXVhbChbXSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiYXR0ZW1wdEF1dG9SZXNvbHV0aW9uXCIsICgpID0+IHtcbiAgICBjb25zdCBtb2NrR2FwOiBJbXBsZW1lbnRhdGlvbkdhcCA9IHtcbiAgICAgIGdhcElkOiBcImdhcC1hdXRvXCIsXG4gICAgICB0eXBlOiBcIm1pc3NpbmdfaW1wbGVtZW50YXRpb25cIixcbiAgICAgIHNldmVyaXR5OiBcIm1lZGl1bVwiLFxuICAgICAgdGl0bGU6IFwiTWlzc2luZyBjb21wb25lbnRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbXBvbmVudCBub3QgaW1wbGVtZW50ZWRcIixcbiAgICAgIGFmZmVjdGVkTW9kdWxlczogW1wiY29tcG9uZW50c1wiXSxcbiAgICAgIGRldGVjdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBsYXN0VXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICAgIHN0YXR1czogXCJyZW1lZGlhdGlvbl9zdWdnZXN0ZWRcIixcbiAgICAgIGNvbmZpZGVuY2U6IDAuOCxcbiAgICAgIGVzdGltYXRlZEVmZm9ydDogXCJsb3dcIixcbiAgICAgIGJ1c2luZXNzSW1wYWN0OiBcIk1pbm9yIGZ1bmN0aW9uYWxpdHkgbWlzc2luZ1wiLFxuICAgICAgdGVjaG5pY2FsRGV0YWlsczoge30sXG4gICAgfTtcblxuICAgIGNvbnN0IG1vY2tTdWdnZXN0aW9uOiBSZW1lZGlhdGlvblN1Z2dlc3Rpb24gPSB7XG4gICAgICBzdWdnZXN0aW9uSWQ6IFwic3VnZ2VzdGlvbi1hdXRvXCIsXG4gICAgICBnYXBJZDogXCJnYXAtYXV0b1wiLFxuICAgICAgdHlwZTogXCJjb2RlX2ZpeFwiLFxuICAgICAgcHJpb3JpdHk6IFwibWVkaXVtXCIsXG4gICAgICB0aXRsZTogXCJBZGQgbWlzc2luZyBjb21wb25lbnRcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZSB0aGUgbWlzc2luZyBjb21wb25lbnRcIixcbiAgICAgIGltcGxlbWVudGF0aW9uOiB7XG4gICAgICAgIHN0ZXBzOiBbXCJDcmVhdGUgY29tcG9uZW50IGZpbGVcIl0sXG4gICAgICAgIGNvZGVDaGFuZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmlsZTogXCJzcmMvY29tcG9uZW50cy9NaXNzaW5nQ29tcG9uZW50LnRzeFwiLFxuICAgICAgICAgICAgY2hhbmdlczpcbiAgICAgICAgICAgICAgXCJleHBvcnQgY29uc3QgTWlzc2luZ0NvbXBvbmVudCA9ICgpID0+IDxkaXY+Q29tcG9uZW50PC9kaXY+O1wiLFxuICAgICAgICAgICAgZXhwbGFuYXRpb246IFwiQmFzaWMgY29tcG9uZW50IGltcGxlbWVudGF0aW9uXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICBlc3RpbWF0ZWRUaW1lOiBcIjEgaG91clwiLFxuICAgICAgcmlza0xldmVsOiBcImxvd1wiLFxuICAgICAgdGVzdGluZ1JlcXVpcmVkOiBmYWxzZSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIGF1dG9SZXNvbHZhYmxlOiB0cnVlLFxuICAgIH07XG5cbiAgICBpdChcInNob3VsZCBzdWNjZXNzZnVsbHkgYXV0by1yZXNvbHZlIGltcGxlbWVudGF0aW9uIGdhcFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbXBsZW1lbnRhdGlvblN1cHBvcnQuYXR0ZW1wdEF1dG9SZXNvbHV0aW9uKFxuICAgICAgICBtb2NrR2FwLFxuICAgICAgICBtb2NrU3VnZ2VzdGlvblxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoXCJzdWNjZXNzXCIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5nYXBJZCkudG9CZShtb2NrR2FwLmdhcElkKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuc3VnZ2VzdGlvbklkKS50b0JlKG1vY2tTdWdnZXN0aW9uLnN1Z2dlc3Rpb25JZCk7XG4gICAgICBleHBlY3QocmVzdWx0LmFwcGxpZWRDaGFuZ2VzLmZpbGVzTW9kaWZpZWQpLnRvQ29udGFpbihcbiAgICAgICAgXCJzcmMvY29tcG9uZW50cy9NaXNzaW5nQ29tcG9uZW50LnRzeFwiXG4gICAgICApO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yb2xsYmFja0F2YWlsYWJsZSkudG9CZSh0cnVlKTtcblxuICAgICAgLy8gQ2hlY2sgdGhhdCBnYXAgc3RhdHVzIHdhcyB1cGRhdGVkXG4gICAgICBjb25zdCBnYXBzID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldERldGVjdGVkR2FwcygpO1xuICAgICAgY29uc3QgcmVzb2x2ZWRHYXAgPSBnYXBzLmZpbmQoKGcpID0+IGcuZ2FwSWQgPT09IG1vY2tHYXAuZ2FwSWQpO1xuICAgICAgZXhwZWN0KHJlc29sdmVkR2FwPy5zdGF0dXMpLnRvQmUoXCJyZXNvbHZlZFwiKTtcblxuICAgICAgLy8gQ2hlY2sgbWV0cmljc1xuICAgICAgY29uc3QgbWV0cmljcyA9IGltcGxlbWVudGF0aW9uU3VwcG9ydC5nZXRNZXRyaWNzKCk7XG4gICAgICBleHBlY3QobWV0cmljcy5hdXRvUmVzb2x1dGlvbnNBdHRlbXB0ZWQpLnRvQmUoMSk7XG4gICAgICBleHBlY3QobWV0cmljcy5hdXRvUmVzb2x1dGlvbnNTdWNjZXNzZnVsKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuZ2Fwc1Jlc29sdmVkKS50b0JlKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZmFpbCBhdXRvLXJlc29sdXRpb24gZm9yIG5vbi1hdXRvLXJlc29sdmFibGUgc3VnZ2VzdGlvbnNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgbm9uQXV0b1N1Z2dlc3Rpb246IFJlbWVkaWF0aW9uU3VnZ2VzdGlvbiA9IHtcbiAgICAgICAgLi4ubW9ja1N1Z2dlc3Rpb24sXG4gICAgICAgIGF1dG9SZXNvbHZhYmxlOiBmYWxzZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGltcGxlbWVudGF0aW9uU3VwcG9ydC5hdHRlbXB0QXV0b1Jlc29sdXRpb24oXG4gICAgICAgIG1vY2tHYXAsXG4gICAgICAgIG5vbkF1dG9TdWdnZXN0aW9uXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1cykudG9CZShcImZhaWxlZFwiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbihcIm5vdCBhdXRvLXJlc29sdmFibGVcIik7XG5cbiAgICAgIC8vIENoZWNrIHRoYXQgZ2FwIHN0YXR1cyB3YXMgdXBkYXRlZCB0byBmYWlsZWRcbiAgICAgIGNvbnN0IGdhcHMgPSBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZ2V0RGV0ZWN0ZWRHYXBzKCk7XG4gICAgICBjb25zdCBmYWlsZWRHYXAgPSBnYXBzLmZpbmQoKGcpID0+IGcuZ2FwSWQgPT09IG1vY2tHYXAuZ2FwSWQpO1xuICAgICAgZXhwZWN0KGZhaWxlZEdhcD8uc3RhdHVzKS50b0JlKFwiZmFpbGVkXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZmFpbCBhdXRvLXJlc29sdXRpb24gZm9yIGhpZ2gtcmlzayBzdWdnZXN0aW9uc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBoaWdoUmlza1N1Z2dlc3Rpb246IFJlbWVkaWF0aW9uU3VnZ2VzdGlvbiA9IHtcbiAgICAgICAgLi4ubW9ja1N1Z2dlc3Rpb24sXG4gICAgICAgIHJpc2tMZXZlbDogXCJoaWdoXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbXBsZW1lbnRhdGlvblN1cHBvcnQuYXR0ZW1wdEF1dG9SZXNvbHV0aW9uKFxuICAgICAgICBtb2NrR2FwLFxuICAgICAgICBoaWdoUmlza1N1Z2dlc3Rpb25cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKFwiZmFpbGVkXCIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKFwicmlzayBsZXZlbCBleGNlZWRzIHRocmVzaG9sZFwiKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGZhaWwgYXV0by1yZXNvbHV0aW9uIHdoZW4gZGlzYWJsZWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGlzYWJsZWRDb25maWcgPSB7IC4uLm1vY2tDb25maWcsIGF1dG9SZXNvbHV0aW9uRW5hYmxlZDogZmFsc2UgfTtcbiAgICAgIGNvbnN0IGRpc2FibGVkU3VwcG9ydCA9IG5ldyBJbXBsZW1lbnRhdGlvblN1cHBvcnQoXG4gICAgICAgIG1vY2tEaXJlY3RCZWRyb2NrQ2xpZW50LFxuICAgICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXIsXG4gICAgICAgIGRpc2FibGVkQ29uZmlnXG4gICAgICApO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkaXNhYmxlZFN1cHBvcnQuYXR0ZW1wdEF1dG9SZXNvbHV0aW9uKFxuICAgICAgICBtb2NrR2FwLFxuICAgICAgICBtb2NrU3VnZ2VzdGlvblxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXMpLnRvQmUoXCJmYWlsZWRcIik7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oXCJBdXRvLXJlc29sdXRpb24gaXMgZGlzYWJsZWRcIik7XG5cbiAgICAgIGRpc2FibGVkU3VwcG9ydC5kZXN0cm95KCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYW5kbGUgY29uZmlndXJhdGlvbiBjaGFuZ2VzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25XaXRoQ29uZmlnOiBSZW1lZGlhdGlvblN1Z2dlc3Rpb24gPSB7XG4gICAgICAgIC4uLm1vY2tTdWdnZXN0aW9uLFxuICAgICAgICBpbXBsZW1lbnRhdGlvbjoge1xuICAgICAgICAgIC4uLm1vY2tTdWdnZXN0aW9uLmltcGxlbWVudGF0aW9uLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb25DaGFuZ2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGZpbGU6IFwiY29uZmlnLmpzb25cIixcbiAgICAgICAgICAgICAgY2hhbmdlczogeyBmZWF0dXJlOiBcImVuYWJsZWRcIiB9LFxuICAgICAgICAgICAgICBleHBsYW5hdGlvbjogXCJFbmFibGUgZmVhdHVyZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW1wbGVtZW50YXRpb25TdXBwb3J0LmF0dGVtcHRBdXRvUmVzb2x1dGlvbihcbiAgICAgICAgbW9ja0dhcCxcbiAgICAgICAgc3VnZ2VzdGlvbldpdGhDb25maWdcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKFwic3VjY2Vzc1wiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYXBwbGllZENoYW5nZXMuY29uZmlndXJhdGlvbnNDaGFuZ2VkKS50b0NvbnRhaW4oXG4gICAgICAgIFwiY29uZmlnLmpzb25cIlxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBkZXBlbmRlbmN5IHVwZGF0ZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3VnZ2VzdGlvbldpdGhEZXBzOiBSZW1lZGlhdGlvblN1Z2dlc3Rpb24gPSB7XG4gICAgICAgIC4uLm1vY2tTdWdnZXN0aW9uLFxuICAgICAgICBpbXBsZW1lbnRhdGlvbjoge1xuICAgICAgICAgIC4uLm1vY2tTdWdnZXN0aW9uLmltcGxlbWVudGF0aW9uLFxuICAgICAgICAgIGRlcGVuZGVuY2llczoge1xuICAgICAgICAgICAgYWRkOiBbXCJuZXctcGFja2FnZVwiXSxcbiAgICAgICAgICAgIHVwZGF0ZTogeyBcImV4aXN0aW5nLXBhY2thZ2VcIjogXCJeMi4wLjBcIiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbXBsZW1lbnRhdGlvblN1cHBvcnQuYXR0ZW1wdEF1dG9SZXNvbHV0aW9uKFxuICAgICAgICBtb2NrR2FwLFxuICAgICAgICBzdWdnZXN0aW9uV2l0aERlcHNcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzKS50b0JlKFwic3VjY2Vzc1wiKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuYXBwbGllZENoYW5nZXMuZGVwZW5kZW5jaWVzVXBkYXRlZCkudG9Db250YWluKFxuICAgICAgICBcInBhY2thZ2UuanNvblwiXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcImFuYWx5emVCYWNrbG9nXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFkZCBzb21lIGdhcHMgdG8gYW5hbHl6ZVxuICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLmV4ZWN1dGVTdXBwb3J0T3BlcmF0aW9uLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRleHQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBnYXBzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwibWlzc2luZ19pbXBsZW1lbnRhdGlvblwiLFxuICAgICAgICAgICAgICBzZXZlcml0eTogXCJoaWdoXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIk1pc3NpbmcgYXV0aFwiLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJBdXRoIG5vdCBpbXBsZW1lbnRlZFwiLFxuICAgICAgICAgICAgICBhZmZlY3RlZE1vZHVsZXM6IFtcImF1dGhcIl0sXG4gICAgICAgICAgICAgIGJ1c2luZXNzSW1wYWN0OiBcIlVzZXJzIGNhbm5vdCBsb2dpblwiLFxuICAgICAgICAgICAgICBlc3RpbWF0ZWRFZmZvcnQ6IFwibWVkaXVtXCIsXG4gICAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgICAgICAgICAgdGVjaG5pY2FsRGV0YWlsczoge30sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcInBlcmZvcm1hbmNlX2lzc3VlXCIsXG4gICAgICAgICAgICAgIHNldmVyaXR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICB0aXRsZTogXCJTbG93IHF1ZXJpZXNcIixcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiRGF0YWJhc2UgcXVlcmllcyBhcmUgc2xvd1wiLFxuICAgICAgICAgICAgICBhZmZlY3RlZE1vZHVsZXM6IFtcImRhdGFiYXNlXCJdLFxuICAgICAgICAgICAgICBidXNpbmVzc0ltcGFjdDogXCJQb29yIHBlcmZvcm1hbmNlXCIsXG4gICAgICAgICAgICAgIGVzdGltYXRlZEVmZm9ydDogXCJsb3dcIixcbiAgICAgICAgICAgICAgY29uZmlkZW5jZTogMC44LFxuICAgICAgICAgICAgICB0ZWNobmljYWxEZXRhaWxzOiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSksXG4gICAgICAgIG9wZXJhdGlvbklkOiBcImdhcC1kZXRlY3Rpb25cIixcbiAgICAgICAgbGF0ZW5jeU1zOiAyMDAsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZGV0ZWN0SW1wbGVtZW50YXRpb25HYXBzKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhbmFseXplIGJhY2tsb2cgYW5kIHByb3ZpZGUgcmVjb21tZW5kYXRpb25zXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tJbnRlbGxpZ2VudFJvdXRlci5leGVjdXRlU3VwcG9ydE9wZXJhdGlvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRleHQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBwcmlvcml0aXplZEdhcHM6IFtcImdhcC0xXCIsIFwiZ2FwLTJcIl0sXG4gICAgICAgICAgc3VnZ2VzdGVkU3ByaW50czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzcHJpbnROdW1iZXI6IDEsXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBcIjIgd2Vla3NcIixcbiAgICAgICAgICAgICAgZ2FwczogW1wiZ2FwLTFcIl0sXG4gICAgICAgICAgICAgIGVzdGltYXRlZEVmZm9ydDogXCIyMCBob3Vyc1wiLFxuICAgICAgICAgICAgICBidXNpbmVzc1ZhbHVlOiBcIkhpZ2ggLSBlbmFibGVzIHVzZXIgYXV0aGVudGljYXRpb25cIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNwcmludE51bWJlcjogMixcbiAgICAgICAgICAgICAgZHVyYXRpb246IFwiMSB3ZWVrXCIsXG4gICAgICAgICAgICAgIGdhcHM6IFtcImdhcC0yXCJdLFxuICAgICAgICAgICAgICBlc3RpbWF0ZWRFZmZvcnQ6IFwiOCBob3Vyc1wiLFxuICAgICAgICAgICAgICBidXNpbmVzc1ZhbHVlOiBcIk1lZGl1bSAtIGltcHJvdmVzIHBlcmZvcm1hbmNlXCIsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgICAgcmVjb21tZW5kYXRpb25zOiB7XG4gICAgICAgICAgICBpbW1lZGlhdGU6IFtcIkZpeCBhdXRoZW50aWNhdGlvbiBpc3N1ZXNcIl0sXG4gICAgICAgICAgICBzaG9ydFRlcm06IFtcIk9wdGltaXplIGRhdGFiYXNlIHF1ZXJpZXNcIl0sXG4gICAgICAgICAgICBsb25nVGVybTogW1wiUmVkZXNpZ24gYXV0aGVudGljYXRpb24gc3lzdGVtXCJdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmlza0Fzc2Vzc21lbnQ6IHtcbiAgICAgICAgICAgIGhpZ2hSaXNrR2FwczogW1wiZ2FwLTFcIl0sXG4gICAgICAgICAgICBibG9ja2VyczogW1wiTWlzc2luZyBhdXRoIHNlcnZpY2VcIl0sXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXM6IHsgXCJnYXAtMlwiOiBbXCJnYXAtMVwiXSB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgICAgICBvcGVyYXRpb25JZDogXCJiYWNrbG9nLWFuYWx5c2lzXCIsXG4gICAgICAgIGxhdGVuY3lNczogNTAwLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBpbXBsZW1lbnRhdGlvblN1cHBvcnQuYW5hbHl6ZUJhY2tsb2coKTtcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGFuYWx5c2lzLnRvdGFsR2FwcykudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgZXhwZWN0KGFuYWx5c2lzLnN1Z2dlc3RlZFNwcmludHMpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICAgIGV4cGVjdChhbmFseXNpcy5yZWNvbW1lbmRhdGlvbnMuaW1tZWRpYXRlKS50b0NvbnRhaW4oXG4gICAgICAgIFwiRml4IGF1dGhlbnRpY2F0aW9uIGlzc3Vlc1wiXG4gICAgICApO1xuICAgICAgZXhwZWN0KGFuYWx5c2lzLnJpc2tBc3Nlc3NtZW50LmhpZ2hSaXNrR2FwcykudG9Db250YWluKFwiZ2FwLTFcIik7XG5cbiAgICAgIC8vIENoZWNrIG1ldHJpY3NcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZ2V0TWV0cmljcygpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuYmFja2xvZ0FuYWx5c2VzUGVyZm9ybWVkKS50b0JlKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIGVtcHR5IGJhY2tsb2dcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIHN1cHBvcnQgd2l0aCBubyBnYXBzXG4gICAgICBjb25zdCBlbXB0eVN1cHBvcnQgPSBuZXcgSW1wbGVtZW50YXRpb25TdXBwb3J0KFxuICAgICAgICBtb2NrRGlyZWN0QmVkcm9ja0NsaWVudCxcbiAgICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLFxuICAgICAgICBtb2NrQ29uZmlnXG4gICAgICApO1xuXG4gICAgICBjb25zdCBhbmFseXNpcyA9IGF3YWl0IGVtcHR5U3VwcG9ydC5hbmFseXplQmFja2xvZygpO1xuXG4gICAgICBleHBlY3QoYW5hbHlzaXMudG90YWxHYXBzKS50b0JlKDApO1xuICAgICAgZXhwZWN0KGFuYWx5c2lzLnByaW9yaXRpemVkR2FwcykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3QoYW5hbHlzaXMuc3VnZ2VzdGVkU3ByaW50cykudG9FcXVhbChbXSk7XG5cbiAgICAgIGVtcHR5U3VwcG9ydC5kZXN0cm95KCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYW5kbGUgYmFja2xvZyBhbmFseXNpcyBlcnJvcnNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLmV4ZWN1dGVTdXBwb3J0T3BlcmF0aW9uLm1vY2tSZWplY3RlZFZhbHVlKFxuICAgICAgICBuZXcgRXJyb3IoXCJCYWNrbG9nIGFuYWx5c2lzIGZhaWxlZFwiKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgYW5hbHlzaXMgPSBhd2FpdCBpbXBsZW1lbnRhdGlvblN1cHBvcnQuYW5hbHl6ZUJhY2tsb2coKTtcblxuICAgICAgZXhwZWN0KGFuYWx5c2lzLnRvdGFsR2FwcykudG9CZSgwKTtcbiAgICAgIGV4cGVjdChhbmFseXNpcy5wcmlvcml0aXplZEdhcHMpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkhlYWx0aCBTdGF0dXMgYW5kIE1ldHJpY3NcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHJldHVybiBoZWFsdGggc3RhdHVzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGhlYWx0aCA9IGltcGxlbWVudGF0aW9uU3VwcG9ydC5nZXRIZWFsdGhTdGF0dXMoKTtcblxuICAgICAgZXhwZWN0KGhlYWx0aCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChoZWFsdGguaXNIZWFsdGh5KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGhlYWx0aC50b3RhbEdhcHMpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaGVhbHRoLnJlc29sdmVkR2FwcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChoZWFsdGgucmVzb2x1dGlvblJhdGUpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoaGVhbHRoLm1ldHJpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCByZXR1cm4gbWV0cmljc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRyaWNzID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldE1ldHJpY3MoKTtcblxuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobWV0cmljcy50b3RhbEdhcHNEZXRlY3RlZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmdhcHNSZXNvbHZlZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmF1dG9SZXNvbHV0aW9uc0F0dGVtcHRlZCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmRldGVjdGVkR2Fwc0NvdW50KS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY2FsY3VsYXRlIGhlYWx0aCBiYXNlZCBvbiByZXNvbHV0aW9uIHJhdGVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQWRkIGFuZCByZXNvbHZlIHNvbWUgZ2Fwc1xuICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLmV4ZWN1dGVTdXBwb3J0T3BlcmF0aW9uLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdGV4dDogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGdhcHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJtaXNzaW5nX2ltcGxlbWVudGF0aW9uXCIsXG4gICAgICAgICAgICAgIHNldmVyaXR5OiBcIm1lZGl1bVwiLFxuICAgICAgICAgICAgICB0aXRsZTogXCJUZXN0IGdhcFwiLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUZXN0IGRlc2NyaXB0aW9uXCIsXG4gICAgICAgICAgICAgIGFmZmVjdGVkTW9kdWxlczogW1widGVzdFwiXSxcbiAgICAgICAgICAgICAgYnVzaW5lc3NJbXBhY3Q6IFwiVGVzdCBpbXBhY3RcIixcbiAgICAgICAgICAgICAgZXN0aW1hdGVkRWZmb3J0OiBcImxvd1wiLFxuICAgICAgICAgICAgICBjb25maWRlbmNlOiAwLjgsXG4gICAgICAgICAgICAgIHRlY2huaWNhbERldGFpbHM6IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSxcbiAgICAgICAgb3BlcmF0aW9uSWQ6IFwidGVzdFwiLFxuICAgICAgICBsYXRlbmN5TXM6IDEwMCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uU3VwcG9ydC5kZXRlY3RJbXBsZW1lbnRhdGlvbkdhcHMoKTtcblxuICAgICAgY29uc3QgaGVhbHRoQmVmb3JlID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldEhlYWx0aFN0YXR1cygpO1xuICAgICAgZXhwZWN0KGhlYWx0aEJlZm9yZS5yZXNvbHV0aW9uUmF0ZSkudG9CZSgwKTsgLy8gTm8gZ2FwcyByZXNvbHZlZCB5ZXRcblxuICAgICAgLy8gU2ltdWxhdGUgcmVzb2x2aW5nIHRoZSBnYXBcbiAgICAgIGNvbnN0IGdhcHMgPSBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZ2V0RGV0ZWN0ZWRHYXBzKCk7XG4gICAgICBpZiAoZ2Fwcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdhcHNbMF0uc3RhdHVzID0gXCJyZXNvbHZlZFwiO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBoZWFsdGhBZnRlciA9IGltcGxlbWVudGF0aW9uU3VwcG9ydC5nZXRIZWFsdGhTdGF0dXMoKTtcbiAgICAgIGV4cGVjdChoZWFsdGhBZnRlci5yZXNvbHV0aW9uUmF0ZSkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkdhcCBNYW5hZ2VtZW50XCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tJbnRlbGxpZ2VudFJvdXRlci5leGVjdXRlU3VwcG9ydE9wZXJhdGlvbi5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRleHQ6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBnYXBzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwibWlzc2luZ19pbXBsZW1lbnRhdGlvblwiLFxuICAgICAgICAgICAgICBzZXZlcml0eTogXCJoaWdoXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIkhpZ2ggc2V2ZXJpdHkgZ2FwXCIsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkhpZ2ggc2V2ZXJpdHkgZGVzY3JpcHRpb25cIixcbiAgICAgICAgICAgICAgYWZmZWN0ZWRNb2R1bGVzOiBbXCJtb2R1bGUxXCJdLFxuICAgICAgICAgICAgICBidXNpbmVzc0ltcGFjdDogXCJIaWdoIGltcGFjdFwiLFxuICAgICAgICAgICAgICBlc3RpbWF0ZWRFZmZvcnQ6IFwibWVkaXVtXCIsXG4gICAgICAgICAgICAgIGNvbmZpZGVuY2U6IDAuOSxcbiAgICAgICAgICAgICAgdGVjaG5pY2FsRGV0YWlsczoge30sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcInBlcmZvcm1hbmNlX2lzc3VlXCIsXG4gICAgICAgICAgICAgIHNldmVyaXR5OiBcImxvd1wiLFxuICAgICAgICAgICAgICB0aXRsZTogXCJMb3cgc2V2ZXJpdHkgZ2FwXCIsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkxvdyBzZXZlcml0eSBkZXNjcmlwdGlvblwiLFxuICAgICAgICAgICAgICBhZmZlY3RlZE1vZHVsZXM6IFtcIm1vZHVsZTJcIl0sXG4gICAgICAgICAgICAgIGJ1c2luZXNzSW1wYWN0OiBcIkxvdyBpbXBhY3RcIixcbiAgICAgICAgICAgICAgZXN0aW1hdGVkRWZmb3J0OiBcImxvd1wiLFxuICAgICAgICAgICAgICBjb25maWRlbmNlOiAwLjcsXG4gICAgICAgICAgICAgIHRlY2huaWNhbERldGFpbHM6IHt9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9KSxcbiAgICAgICAgb3BlcmF0aW9uSWQ6IFwiZ2FwLWRldGVjdGlvblwiLFxuICAgICAgICBsYXRlbmN5TXM6IDIwMCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uU3VwcG9ydC5kZXRlY3RJbXBsZW1lbnRhdGlvbkdhcHMoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGdldCBhbGwgZGV0ZWN0ZWQgZ2Fwc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBnYXBzID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldERldGVjdGVkR2FwcygpO1xuXG4gICAgICBleHBlY3QoZ2FwcykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KGdhcHMuc29tZSgoZykgPT4gZy5zZXZlcml0eSA9PT0gXCJoaWdoXCIpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGdhcHMuc29tZSgoZykgPT4gZy5zZXZlcml0eSA9PT0gXCJsb3dcIikpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBmaWx0ZXIgZ2FwcyBieSBzZXZlcml0eVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBoaWdoU2V2ZXJpdHlHYXBzID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldEdhcHNCeVNldmVyaXR5KFwiaGlnaFwiKTtcbiAgICAgIGNvbnN0IGxvd1NldmVyaXR5R2FwcyA9IGltcGxlbWVudGF0aW9uU3VwcG9ydC5nZXRHYXBzQnlTZXZlcml0eShcImxvd1wiKTtcblxuICAgICAgZXhwZWN0KGhpZ2hTZXZlcml0eUdhcHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChoaWdoU2V2ZXJpdHlHYXBzWzBdLnNldmVyaXR5KS50b0JlKFwiaGlnaFwiKTtcbiAgICAgIGV4cGVjdChsb3dTZXZlcml0eUdhcHMpLnRvSGF2ZUxlbmd0aCgxKTtcbiAgICAgIGV4cGVjdChsb3dTZXZlcml0eUdhcHNbMF0uc2V2ZXJpdHkpLnRvQmUoXCJsb3dcIik7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBnZXQgc3VnZ2VzdGlvbnMgZm9yIHNwZWNpZmljIGdhcFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBnYXBzID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldERldGVjdGVkR2FwcygpO1xuICAgICAgY29uc3QgdGVzdEdhcCA9IGdhcHNbMF07XG5cbiAgICAgIC8vIEdlbmVyYXRlIHN1Z2dlc3Rpb25zIGZvciB0aGUgZ2FwXG4gICAgICBtb2NrSW50ZWxsaWdlbnRSb3V0ZXIuZXhlY3V0ZVN1cHBvcnRPcGVyYXRpb24ubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0ZXh0OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJjb2RlX2ZpeFwiLFxuICAgICAgICAgICAgICBwcmlvcml0eTogXCJoaWdoXCIsXG4gICAgICAgICAgICAgIHRpdGxlOiBcIkZpeCBpbXBsZW1lbnRhdGlvblwiLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJJbXBsZW1lbnQgbWlzc2luZyBmdW5jdGlvbmFsaXR5XCIsXG4gICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uOiB7IHN0ZXBzOiBbXCJTdGVwIDFcIl0gfSxcbiAgICAgICAgICAgICAgZXN0aW1hdGVkVGltZTogXCIyIGhvdXJzXCIsXG4gICAgICAgICAgICAgIHJpc2tMZXZlbDogXCJsb3dcIixcbiAgICAgICAgICAgICAgdGVzdGluZ1JlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgYXV0b1Jlc29sdmFibGU6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgICBvcGVyYXRpb25JZDogXCJzdWdnZXN0aW9uc1wiLFxuICAgICAgICBsYXRlbmN5TXM6IDMwMCxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGltcGxlbWVudGF0aW9uU3VwcG9ydC5nZW5lcmF0ZVJlbWVkaWF0aW9uU3VnZ2VzdGlvbnModGVzdEdhcCk7XG5cbiAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldFN1Z2dlc3Rpb25zRm9yR2FwKFxuICAgICAgICB0ZXN0R2FwLmdhcElkXG4gICAgICApO1xuICAgICAgZXhwZWN0KHN1Z2dlc3Rpb25zKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3Qoc3VnZ2VzdGlvbnNbMF0uZ2FwSWQpLnRvQmUodGVzdEdhcC5nYXBJZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiUmVzb3VyY2UgTWFuYWdlbWVudFwiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgY2xlYW51cCByZXNvdXJjZXMgb24gZGVzdHJveVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBtZXRyaWNzID0gaW1wbGVtZW50YXRpb25TdXBwb3J0LmdldE1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmRldGVjdGVkR2Fwc0NvdW50KS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuXG4gICAgICBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZGVzdHJveSgpO1xuXG4gICAgICAvLyBBZnRlciBkZXN0cm95LCBkYXRhIHNob3VsZCBiZSBjbGVhcmVkXG4gICAgICBjb25zdCBwb3N0RGVzdHJveU1ldHJpY3MgPSBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZ2V0TWV0cmljcygpO1xuICAgICAgZXhwZWN0KHBvc3REZXN0cm95TWV0cmljcy5kZXRlY3RlZEdhcHNDb3VudCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBtdWx0aXBsZSBkZXN0cm95IGNhbGxzIHNhZmVseVwiLCAoKSA9PiB7XG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZGVzdHJveSgpO1xuICAgICAgICBpbXBsZW1lbnRhdGlvblN1cHBvcnQuZGVzdHJveSgpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJDb25maWd1cmF0aW9uIFZhbGlkYXRpb25cIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHdvcmsgd2l0aCBtaW5pbWFsIGNvbmZpZ3VyYXRpb25cIiwgKCkgPT4ge1xuICAgICAgY29uc3QgbWluaW1hbFN1cHBvcnQgPSBuZXcgSW1wbGVtZW50YXRpb25TdXBwb3J0KFxuICAgICAgICBtb2NrRGlyZWN0QmVkcm9ja0NsaWVudCxcbiAgICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLFxuICAgICAgICB7IHNjYW5JbnRlcnZhbDogMTAwMCB9XG4gICAgICApO1xuXG4gICAgICBleHBlY3QobWluaW1hbFN1cHBvcnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QobWluaW1hbFN1cHBvcnQuZ2V0SGVhbHRoU3RhdHVzKCkpLnRvQmVEZWZpbmVkKCk7XG5cbiAgICAgIG1pbmltYWxTdXBwb3J0LmRlc3Ryb3koKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBpbnZhbGlkIGNvbmZpZ3VyYXRpb24gZ3JhY2VmdWxseVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbnZhbGlkQ29uZmlnID0ge1xuICAgICAgICBzY2FuSW50ZXJ2YWw6IC0xMDAwLFxuICAgICAgICBtYXhBdXRvUmVzb2x1dGlvbkF0dGVtcHRzOiAtMSxcbiAgICAgIH0gYXMgYW55O1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnZhbGlkU3VwcG9ydCA9IG5ldyBJbXBsZW1lbnRhdGlvblN1cHBvcnQoXG4gICAgICAgICAgbW9ja0RpcmVjdEJlZHJvY2tDbGllbnQsXG4gICAgICAgICAgbW9ja0ludGVsbGlnZW50Um91dGVyLFxuICAgICAgICAgIGludmFsaWRDb25maWdcbiAgICAgICAgKTtcbiAgICAgICAgaW52YWxpZFN1cHBvcnQuZGVzdHJveSgpO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==