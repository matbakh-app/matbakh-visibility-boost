0136e0032b763b612aaab9f28219a903
"use strict";
/**
 * Tests for Drift Detection and Quality Monitoring Integration Service
 */
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const client_cloudwatch_1 = require("@aws-sdk/client-cloudwatch");
const client_sagemaker_1 = require("@aws-sdk/client-sagemaker");
const aws_sdk_client_mock_1 = require("aws-sdk-client-mock");
const drift_quality_integration_1 = require("../drift-quality-integration");
// Mock AWS clients
const cloudWatchMock = (0, aws_sdk_client_mock_1.mockClient)(client_cloudwatch_1.CloudWatchClient);
const sageMakerMock = (0, aws_sdk_client_mock_1.mockClient)(client_sagemaker_1.SageMakerClient);
describe("DriftQualityIntegration", () => {
    let integration;
    let mockCloudWatch;
    let mockSageMaker;
    const mockBaselineMetrics = {
        timestamp: new Date("2025-01-01T00:00:00Z"),
        modelId: "test-model-1",
        provider: "bedrock",
        dataDrift: {
            score: 0.1,
            threshold: 0.3,
            features: [
                {
                    name: "input_length",
                    driftScore: 0.05,
                    baseline: 100,
                    current: 105,
                },
            ],
        },
        promptDrift: {
            scoreDistribution: {
                mean: 0.75,
                std: 0.15,
                p50: 0.74,
                p95: 0.95,
                p99: 0.98,
            },
            baseline: {
                mean: 0.75,
                std: 0.15,
                p50: 0.74,
                p95: 0.95,
                p99: 0.98,
            },
            driftScore: 0.05,
        },
        performanceRegression: {
            latency: {
                current: 1000,
                baseline: 1000,
                regressionScore: 0.0,
            },
            accuracy: {
                current: 0.9,
                baseline: 0.9,
                regressionScore: 0.0,
            },
            errorRate: {
                current: 0.01,
                baseline: 0.01,
                regressionScore: 0.0,
            },
        },
        qualityMetrics: {
            overallScore: 0.85,
            toxicityScore: 0.05,
            coherenceScore: 0.9,
            relevanceScore: 0.88,
            factualityScore: 0.82,
        },
    };
    beforeEach(() => {
        cloudWatchMock.reset();
        sageMakerMock.reset();
        // Create mock clients with proper configuration
        mockCloudWatch = {
            send: jest.fn(),
        };
        mockSageMaker = {
            send: jest.fn(),
        };
        integration = new drift_quality_integration_1.DriftQualityIntegration(mockCloudWatch, mockSageMaker);
    });
    describe("constructor", () => {
        it("should initialize with AWS clients", () => {
            expect(integration).toBeInstanceOf(drift_quality_integration_1.DriftQualityIntegration);
        });
        it("should initialize with default clients when none provided", () => {
            const defaultIntegration = new drift_quality_integration_1.DriftQualityIntegration();
            expect(defaultIntegration).toBeInstanceOf(drift_quality_integration_1.DriftQualityIntegration);
        });
    });
    describe("initializeModelMonitoring", () => {
        beforeEach(() => {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
        });
        it("should initialize monitoring for a model", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
            // Should have published baseline metrics
            expect(cloudWatchMock.calls()).toHaveLength(1);
            const call = cloudWatchMock.call(0);
            expect(call.args[0].input).toMatchObject({
                Namespace: "AI/Drift/Baseline",
            });
        }));
        it("should initialize monitoring with SageMaker configuration", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const sageMakerConfig = {
                endpointName: "test-endpoint",
                baselineDataUri: "s3://bucket/baseline-data",
            };
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics, sageMakerConfig);
            // Should have set up SageMaker monitoring
            expect(cloudWatchMock.calls()).toHaveLength(1);
        }));
    });
    describe("monitorInteraction", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
        }));
        it("should monitor AI interaction with integrated analysis", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const currentMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: 0.2 }) });
            const result = yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "What is the capital of France?", "The capital of France is Paris.", {
                latency: 1200,
                tokenCount: 150,
                cost: 0.05,
            }, currentMetrics);
            expect(result).toMatchObject({
                modelId: "test-model-1",
                provider: "bedrock",
                driftMetrics: currentMetrics,
                qualityAssessment: expect.objectContaining({
                    modelId: "test-model-1",
                    provider: "bedrock",
                    requestId: "req-123",
                }),
                correlationAnalysis: expect.objectContaining({
                    driftQualityCorrelation: expect.any(Number),
                    performanceImpact: expect.any(Number),
                    userSatisfactionImpact: expect.any(Number),
                    riskScore: expect.any(Number),
                }),
                recommendations: expect.objectContaining({
                    priority: expect.stringMatching(/low|medium|high|critical/),
                    actions: expect.any(Array),
                }),
            });
        }));
        it("should include user feedback in analysis", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const currentMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date() });
            const userFeedback = {
                rating: 4,
                helpful: true,
                accurate: true,
                appropriate: true,
            };
            const result = yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "Test output", {
                latency: 1000,
                tokenCount: 100,
                cost: 0.03,
                userFeedback,
            }, currentMetrics);
            expect(result.qualityAssessment.userFeedback).toEqual(userFeedback);
            expect(result.correlationAnalysis.userSatisfactionImpact).toBeGreaterThanOrEqual(0);
        }));
        it("should generate appropriate recommendations based on risk", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const highRiskMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: 0.6 }), performanceRegression: Object.assign(Object.assign({}, mockBaselineMetrics.performanceRegression), { latency: {
                        current: 2000,
                        baseline: 1000,
                        regressionScore: 1.0, // 100% regression
                    } }) });
            const result = yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "Test output", {
                latency: 2000,
                tokenCount: 100,
                cost: 0.03,
            }, highRiskMetrics);
            expect(result.recommendations.priority).toBe("critical");
            expect(result.recommendations.actions.length).toBeGreaterThan(0);
            expect(result.recommendations.actions.some((action) => action.type === "immediate")).toBe(true);
        }));
        it("should publish integrated metrics to CloudWatch", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const currentMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date() });
            yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "Test output", {
                latency: 1000,
                tokenCount: 100,
                cost: 0.03,
            }, currentMetrics);
            // Should have multiple CloudWatch calls: baseline + current drift + quality + integrated
            const integratedCall = cloudWatchMock
                .calls()
                .find((call) => call.args[0].input.Namespace === "AI/Integrated");
            expect(integratedCall).toBeDefined();
        }));
        it("should maintain monitoring history", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const currentMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date() });
            // Add multiple interactions
            for (let i = 0; i < 3; i++) {
                yield integration.monitorInteraction("test-model-1", "bedrock", `req-${i}`, "Test input", "Test output", {
                    latency: 1000 + i * 100,
                    tokenCount: 100,
                    cost: 0.03,
                }, currentMetrics);
            }
            // History should be maintained (tested indirectly through dashboard data)
            const dashboardData = yield integration.getDashboardData("test-model-1", {
                start: new Date(Date.now() - 60000),
                end: new Date(),
            });
            expect(dashboardData.trends.drift.length).toBe(3);
            expect(dashboardData.trends.quality.length).toBe(3);
        }));
    });
    describe("getDashboardData", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
        }));
        it("should generate comprehensive dashboard data", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const currentMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date() });
            // Add some monitoring data
            yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "Test output", {
                latency: 1000,
                tokenCount: 100,
                cost: 0.03,
            }, currentMetrics);
            const dashboardData = yield integration.getDashboardData("test-model-1", {
                start: new Date(Date.now() - 60000),
                end: new Date(),
            });
            expect(dashboardData).toMatchObject({
                modelId: "test-model-1",
                timeRange: expect.objectContaining({
                    start: expect.any(Date),
                    end: expect.any(Date),
                }),
                currentStatus: expect.objectContaining({
                    overallHealth: expect.stringMatching(/healthy|warning|critical/),
                    driftStatus: expect.stringMatching(/stable|warning|critical/),
                    qualityStatus: expect.stringMatching(/good|warning|poor/),
                    performanceStatus: expect.stringMatching(/optimal|degraded|poor/),
                }),
                keyMetrics: expect.objectContaining({
                    overallScore: expect.any(Number),
                    driftScore: expect.any(Number),
                    qualityScore: expect.any(Number),
                    performanceScore: expect.any(Number),
                    userSatisfactionScore: expect.any(Number),
                }),
                trends: expect.objectContaining({
                    drift: expect.any(Array),
                    quality: expect.any(Array),
                    performance: expect.any(Array),
                    userSatisfaction: expect.any(Array),
                }),
                activeAlerts: expect.any(Array),
                topRecommendations: expect.any(Array),
            });
        }));
        it("should throw error when no data found", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            yield expect(integration.getDashboardData("nonexistent-model", {
                start: new Date(Date.now() - 60000),
                end: new Date(),
            })).rejects.toThrow("No monitoring data found");
        }));
        it("should calculate correct status based on metrics", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            // Add interaction with poor quality and high drift
            const poorMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: 0.6 }) });
            yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "hate toxic harmful offensive", // Poor quality output
            {
                latency: 3000, // High latency
                tokenCount: 100,
                cost: 0.03,
            }, poorMetrics);
            const dashboardData = yield integration.getDashboardData("test-model-1", {
                start: new Date(Date.now() - 60000),
                end: new Date(),
            });
            expect(dashboardData.currentStatus.overallHealth).toBe("critical");
            expect(dashboardData.currentStatus.driftStatus).toBe("critical");
        }));
    });
    describe("getQualityTrendsWithDrift", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
        }));
        it("should analyze quality trends with drift correlation", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const now = new Date();
            const oneHourAgo = new Date(now.getTime() - 60 * 60 * 1000);
            // Add interactions with varying drift and quality
            const interactions = [
                { drift: 0.1, quality: "good" },
                { drift: 0.3, quality: "medium" },
                { drift: 0.5, quality: "poor" },
            ];
            for (const [index, { drift }] of interactions.entries()) {
                const metrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(oneHourAgo.getTime() + index * 20 * 60 * 1000), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: drift }) });
                yield integration.monitorInteraction("test-model-1", "bedrock", `req-${index}`, "Test input", "Test output", {
                    latency: 1000,
                    tokenCount: 100,
                    cost: 0.03,
                }, metrics);
            }
            const trendsWithDrift = yield integration.getQualityTrendsWithDrift("test-model-1", {
                start: oneHourAgo,
                end: now,
            });
            expect(trendsWithDrift).toMatchObject({
                modelId: "test-model-1",
                driftCorrelation: expect.any(Number),
                trends: expect.objectContaining({
                    overallQuality: expect.objectContaining({
                        trend: expect.stringMatching(/improving|stable|degrading/),
                    }),
                }),
            });
            // Drift correlation should be negative (higher drift = lower quality)
            expect(trendsWithDrift.driftCorrelation).toBeLessThanOrEqual(0);
        }));
    });
    describe("alert handling", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
        }));
        it("should register and handle alerts from both monitors", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const alertCallback = jest.fn().mockResolvedValue(undefined);
            integration.onAlert(alertCallback);
            // Trigger alerts through poor quality interaction
            const poorMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: 0.6 }) });
            yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "hate toxic harmful offensive", // Poor quality
            {
                latency: 1000,
                tokenCount: 100,
                cost: 0.03,
            }, poorMetrics);
            expect(alertCallback).toHaveBeenCalled();
        }));
        it("should handle alert callback errors gracefully", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const failingCallback = jest
                .fn()
                .mockRejectedValue(new Error("Callback failed"));
            integration.onAlert(failingCallback);
            // Should not throw despite callback failure
            const poorMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: 0.6 }) });
            yield expect(integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "hate toxic", {
                latency: 1000,
                tokenCount: 100,
                cost: 0.03,
            }, poorMetrics)).resolves.not.toThrow();
        }));
    });
    describe("correlation analysis", () => {
        it("should calculate meaningful correlations", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
            const highRiskMetrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: 0.8 }), performanceRegression: Object.assign(Object.assign({}, mockBaselineMetrics.performanceRegression), { latency: {
                        current: 3000,
                        baseline: 1000,
                        regressionScore: 2.0, // 200% regression
                    } }) });
            const result = yield integration.monitorInteraction("test-model-1", "bedrock", "req-123", "Test input", "Test output", {
                latency: 3000,
                tokenCount: 100,
                cost: 0.03,
                userFeedback: {
                    rating: 1, // Poor user rating
                    helpful: false,
                    accurate: false,
                    appropriate: false,
                },
            }, highRiskMetrics);
            expect(result.correlationAnalysis.riskScore).toBeGreaterThan(0.5);
            expect(result.correlationAnalysis.performanceImpact).toBeGreaterThan(0.5);
            expect(result.correlationAnalysis.userSatisfactionImpact).toBeGreaterThan(0.5);
        }));
    });
    describe("recommendation generation", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
        }));
        it("should generate appropriate recommendations for different scenarios", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const scenarios = [
                {
                    name: "high data drift",
                    metrics: Object.assign(Object.assign({}, mockBaselineMetrics), { dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: 0.6 }) }),
                    expectedActions: ["training data"],
                },
                {
                    name: "high prompt drift",
                    metrics: Object.assign(Object.assign({}, mockBaselineMetrics), { promptDrift: Object.assign(Object.assign({}, mockBaselineMetrics.promptDrift), { driftScore: 0.5 }) }),
                    expectedActions: ["prompt templates"],
                },
                {
                    name: "performance regression",
                    metrics: Object.assign(Object.assign({}, mockBaselineMetrics), { performanceRegression: Object.assign(Object.assign({}, mockBaselineMetrics.performanceRegression), { latency: { current: 2000, baseline: 1000, regressionScore: 1.0 } }) }),
                    expectedActions: ["performance bottlenecks"],
                },
            ];
            for (const scenario of scenarios) {
                const result = yield integration.monitorInteraction("test-model-1", "bedrock", `req-${scenario.name}`, "Test input", "Test output", {
                    latency: 1000,
                    tokenCount: 100,
                    cost: 0.03,
                }, Object.assign(Object.assign({}, scenario.metrics), { timestamp: new Date() }));
                expect(result.recommendations.actions.length).toBeGreaterThan(0);
                // Check if expected action types are present
                const actionDescriptions = result.recommendations.actions.map((a) => a.description.toLowerCase());
                expect(scenario.expectedActions.some((expected) => actionDescriptions.some((desc) => desc.includes(expected)))).toBe(true);
            }
        }));
    });
    describe("error handling", () => {
        it("should handle CloudWatch errors gracefully", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock
                .on(client_cloudwatch_1.PutMetricDataCommand)
                .rejects(new Error("CloudWatch error"));
            yield expect(integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics)).rejects.toThrow("CloudWatch error");
        }));
    });
    describe("integration scenarios", () => {
        beforeEach(() => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            cloudWatchMock.on(client_cloudwatch_1.PutMetricDataCommand).resolves({});
            yield integration.initializeModelMonitoring("test-model-1", mockBaselineMetrics);
        }));
        it("should handle complete monitoring workflow", () => tslib_1.__awaiter(void 0, void 0, void 0, function* () {
            const alertCallback = jest.fn().mockResolvedValue(undefined);
            integration.onAlert(alertCallback);
            // Simulate a series of interactions with degrading quality
            const interactions = [
                {
                    drift: 0.1,
                    output: "High quality response with good coherence and relevance.",
                },
                { drift: 0.3, output: "Medium quality response with some issues." },
                { drift: 0.6, output: "hate toxic harmful offensive always never" }, // Poor quality
            ];
            for (const [index, { drift, output }] of interactions.entries()) {
                const metrics = Object.assign(Object.assign({}, mockBaselineMetrics), { timestamp: new Date(Date.now() + index * 1000), dataDrift: Object.assign(Object.assign({}, mockBaselineMetrics.dataDrift), { score: drift }) });
                yield integration.monitorInteraction("test-model-1", "bedrock", `req-${index}`, "Test input", output, {
                    latency: 1000 + index * 500,
                    tokenCount: 100,
                    cost: 0.03,
                }, metrics);
            }
            // Get dashboard data
            const dashboardData = yield integration.getDashboardData("test-model-1", {
                start: new Date(Date.now() - 60000),
                end: new Date(),
            });
            expect(dashboardData.currentStatus.overallHealth).toBe("critical");
            expect(dashboardData.trends.drift.length).toBe(3);
            expect(dashboardData.trends.quality.length).toBe(3);
            expect(dashboardData.topRecommendations.length).toBeGreaterThan(0);
            // Should have received alerts
            expect(alertCallback).toHaveBeenCalled();
            // Get quality trends with drift correlation
            const trendsWithDrift = yield integration.getQualityTrendsWithDrift("test-model-1", {
                start: new Date(Date.now() - 60000),
                end: new Date(),
            });
            expect(trendsWithDrift.driftCorrelation).toBeDefined();
            expect(trendsWithDrift.trends.overallQuality.trend).toBe("degrading");
        }));
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hdGJha2gtdmlzaWJpbGl0eS1ib29zdC4yMDI1MDkyMC9zcmMvbGliL2FpLW9yY2hlc3RyYXRvci9fX3Rlc3RzX18vZHJpZnQtcXVhbGl0eS1pbnRlZ3JhdGlvbi50ZXN0LnRzIiwibWFwcGluZ3MiOiI7QUFBQTs7R0FFRzs7O0FBRUgsa0VBR29DO0FBQ3BDLGdFQUE0RDtBQUM1RCw2REFBaUQ7QUFFakQsNEVBQXVFO0FBRXZFLG1CQUFtQjtBQUNuQixNQUFNLGNBQWMsR0FBRyxJQUFBLGdDQUFVLEVBQUMsb0NBQWdCLENBQUMsQ0FBQztBQUNwRCxNQUFNLGFBQWEsR0FBRyxJQUFBLGdDQUFVLEVBQUMsa0NBQWUsQ0FBQyxDQUFDO0FBRWxELFFBQVEsQ0FBQyx5QkFBeUIsRUFBRSxHQUFHLEVBQUU7SUFDdkMsSUFBSSxXQUFvQyxDQUFDO0lBQ3pDLElBQUksY0FBZ0MsQ0FBQztJQUNyQyxJQUFJLGFBQThCLENBQUM7SUFFbkMsTUFBTSxtQkFBbUIsR0FBaUI7UUFDeEMsU0FBUyxFQUFFLElBQUksSUFBSSxDQUFDLHNCQUFzQixDQUFDO1FBQzNDLE9BQU8sRUFBRSxjQUFjO1FBQ3ZCLFFBQVEsRUFBRSxTQUFTO1FBQ25CLFNBQVMsRUFBRTtZQUNULEtBQUssRUFBRSxHQUFHO1lBQ1YsU0FBUyxFQUFFLEdBQUc7WUFDZCxRQUFRLEVBQUU7Z0JBQ1I7b0JBQ0UsSUFBSSxFQUFFLGNBQWM7b0JBQ3BCLFVBQVUsRUFBRSxJQUFJO29CQUNoQixRQUFRLEVBQUUsR0FBRztvQkFDYixPQUFPLEVBQUUsR0FBRztpQkFDYjthQUNGO1NBQ0Y7UUFDRCxXQUFXLEVBQUU7WUFDWCxpQkFBaUIsRUFBRTtnQkFDakIsSUFBSSxFQUFFLElBQUk7Z0JBQ1YsR0FBRyxFQUFFLElBQUk7Z0JBQ1QsR0FBRyxFQUFFLElBQUk7Z0JBQ1QsR0FBRyxFQUFFLElBQUk7Z0JBQ1QsR0FBRyxFQUFFLElBQUk7YUFDVjtZQUNELFFBQVEsRUFBRTtnQkFDUixJQUFJLEVBQUUsSUFBSTtnQkFDVixHQUFHLEVB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TUFBTSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFbkUsOEJBQThCO1lBQzlCLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBRXpDLDRDQUE0QztZQUM1QyxNQUFNLGVBQWUsR0FBRyxNQUFNLFdBQVcsQ0FBQyx5QkFBeUIsQ0FDakUsY0FBYyxFQUNkO2dCQUNFLEtBQUssRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDO2dCQUNuQyxHQUFHLEVBQUUsSUFBSSxJQUFJLEVBQUU7YUFDaEIsQ0FDRixDQUFDO1lBRUYsTUFBTSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3ZELE1BQU0sQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEUsQ0FBQyxDQUFBLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL21hdGJha2gtdmlzaWJpbGl0eS1ib29zdC4yMDI1MDkyMC9zcmMvbGliL2FpLW9yY2hlc3RyYXRvci9fX3Rlc3RzX18vZHJpZnQtcXVhbGl0eS1pbnRlZ3JhdGlvbi50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVzdHMgZm9yIERyaWZ0IERldGVjdGlvbiBhbmQgUXVhbGl0eSBNb25pdG9yaW5nIEludGVncmF0aW9uIFNlcnZpY2VcbiAqL1xuXG5pbXBvcnQge1xuICBDbG91ZFdhdGNoQ2xpZW50LFxuICBQdXRNZXRyaWNEYXRhQ29tbWFuZCxcbn0gZnJvbSBcIkBhd3Mtc2RrL2NsaWVudC1jbG91ZHdhdGNoXCI7XG5pbXBvcnQgeyBTYWdlTWFrZXJDbGllbnQgfSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LXNhZ2VtYWtlclwiO1xuaW1wb3J0IHsgbW9ja0NsaWVudCB9IGZyb20gXCJhd3Mtc2RrLWNsaWVudC1tb2NrXCI7XG5pbXBvcnQgeyBEcmlmdE1ldHJpY3MgfSBmcm9tIFwiLi4vZHJpZnQtbW9uaXRvclwiO1xuaW1wb3J0IHsgRHJpZnRRdWFsaXR5SW50ZWdyYXRpb24gfSBmcm9tIFwiLi4vZHJpZnQtcXVhbGl0eS1pbnRlZ3JhdGlvblwiO1xuXG4vLyBNb2NrIEFXUyBjbGllbnRzXG5jb25zdCBjbG91ZFdhdGNoTW9jayA9IG1vY2tDbGllbnQoQ2xvdWRXYXRjaENsaWVudCk7XG5jb25zdCBzYWdlTWFrZXJNb2NrID0gbW9ja0NsaWVudChTYWdlTWFrZXJDbGllbnQpO1xuXG5kZXNjcmliZShcIkRyaWZ0UXVhbGl0eUludGVncmF0aW9uXCIsICgpID0+IHtcbiAgbGV0IGludGVncmF0aW9uOiBEcmlmdFF1YWxpdHlJbnRlZ3JhdGlvbjtcbiAgbGV0IG1vY2tDbG91ZFdhdGNoOiBDbG91ZFdhdGNoQ2xpZW50O1xuICBsZXQgbW9ja1NhZ2VNYWtlcjogU2FnZU1ha2VyQ2xpZW50O1xuXG4gIGNvbnN0IG1vY2tCYXNlbGluZU1ldHJpY3M6IERyaWZ0TWV0cmljcyA9IHtcbiAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKFwiMjAyNS0wMS0wMVQwMDowMDowMFpcIiksXG4gICAgbW9kZWxJZDogXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICBwcm92aWRlcjogXCJiZWRyb2NrXCIsXG4gICAgZGF0YURyaWZ0OiB7XG4gICAgICBzY29yZTogMC4xLFxuICAgICAgdGhyZXNob2xkOiAwLjMsXG4gICAgICBmZWF0dXJlczogW1xuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJpbnB1dF9sZW5ndGhcIixcbiAgICAgICAgICBkcmlmdFNjb3JlOiAwLjA1LFxuICAgICAgICAgIGJhc2VsaW5lOiAxMDAsXG4gICAgICAgICAgY3VycmVudDogMTA1LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHByb21wdERyaWZ0OiB7XG4gICAgICBzY29yZURpc3RyaWJ1dGlvbjoge1xuICAgICAgICBtZWFuOiAwLjc1LFxuICAgICAgICBzdGQ6IDAuMTUsXG4gICAgICAgIHA1MDogMC43NCxcbiAgICAgICAgcDk1OiAwLjk1LFxuICAgICAgICBwOTk6IDAuOTgsXG4gICAgICB9LFxuICAgICAgYmFzZWxpbmU6IHtcbiAgICAgICAgbWVhbjogMC43NSxcbiAgICAgICAgc3RkOiAwLjE1LFxuICAgICAgICBwNTA6IDAuNzQsXG4gICAgICAgIHA5NTogMC45NSxcbiAgICAgICAgcDk5OiAwLjk4LFxuICAgICAgfSxcbiAgICAgIGRyaWZ0U2NvcmU6IDAuMDUsXG4gICAgfSxcbiAgICBwZXJmb3JtYW5jZVJlZ3Jlc3Npb246IHtcbiAgICAgIGxhdGVuY3k6IHtcbiAgICAgICAgY3VycmVudDogMTAwMCxcbiAgICAgICAgYmFzZWxpbmU6IDEwMDAsXG4gICAgICAgIHJlZ3Jlc3Npb25TY29yZTogMC4wLFxuICAgICAgfSxcbiAgICAgIGFjY3VyYWN5OiB7XG4gICAgICAgIGN1cnJlbnQ6IDAuOSxcbiAgICAgICAgYmFzZWxpbmU6IDAuOSxcbiAgICAgICAgcmVncmVzc2lvblNjb3JlOiAwLjAsXG4gICAgICB9LFxuICAgICAgZXJyb3JSYXRlOiB7XG4gICAgICAgIGN1cnJlbnQ6IDAuMDEsXG4gICAgICAgIGJhc2VsaW5lOiAwLjAxLFxuICAgICAgICByZWdyZXNzaW9uU2NvcmU6IDAuMCxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBxdWFsaXR5TWV0cmljczoge1xuICAgICAgb3ZlcmFsbFNjb3JlOiAwLjg1LFxuICAgICAgdG94aWNpdHlTY29yZTogMC4wNSxcbiAgICAgIGNvaGVyZW5jZVNjb3JlOiAwLjksXG4gICAgICByZWxldmFuY2VTY29yZTogMC44OCxcbiAgICAgIGZhY3R1YWxpdHlTY29yZTogMC44MixcbiAgICB9LFxuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGNsb3VkV2F0Y2hNb2NrLnJlc2V0KCk7XG4gICAgc2FnZU1ha2VyTW9jay5yZXNldCgpO1xuXG4gICAgLy8gQ3JlYXRlIG1vY2sgY2xpZW50cyB3aXRoIHByb3BlciBjb25maWd1cmF0aW9uXG4gICAgbW9ja0Nsb3VkV2F0Y2ggPSB7XG4gICAgICBzZW5kOiBqZXN0LmZuKCksXG4gICAgfSBhcyBhbnk7XG5cbiAgICBtb2NrU2FnZU1ha2VyID0ge1xuICAgICAgc2VuZDogamVzdC5mbigpLFxuICAgIH0gYXMgYW55O1xuXG4gICAgaW50ZWdyYXRpb24gPSBuZXcgRHJpZnRRdWFsaXR5SW50ZWdyYXRpb24obW9ja0Nsb3VkV2F0Y2gsIG1vY2tTYWdlTWFrZXIpO1xuICB9KTtcblxuICBkZXNjcmliZShcImNvbnN0cnVjdG9yXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBpbml0aWFsaXplIHdpdGggQVdTIGNsaWVudHNcIiwgKCkgPT4ge1xuICAgICAgZXhwZWN0KGludGVncmF0aW9uKS50b0JlSW5zdGFuY2VPZihEcmlmdFF1YWxpdHlJbnRlZ3JhdGlvbik7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBpbml0aWFsaXplIHdpdGggZGVmYXVsdCBjbGllbnRzIHdoZW4gbm9uZSBwcm92aWRlZFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBkZWZhdWx0SW50ZWdyYXRpb24gPSBuZXcgRHJpZnRRdWFsaXR5SW50ZWdyYXRpb24oKTtcbiAgICAgIGV4cGVjdChkZWZhdWx0SW50ZWdyYXRpb24pLnRvQmVJbnN0YW5jZU9mKERyaWZ0UXVhbGl0eUludGVncmF0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJpbml0aWFsaXplTW9kZWxNb25pdG9yaW5nXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIGNsb3VkV2F0Y2hNb2NrLm9uKFB1dE1ldHJpY0RhdGFDb21tYW5kKS5yZXNvbHZlcyh7fSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBpbml0aWFsaXplIG1vbml0b3JpbmcgZm9yIGEgbW9kZWxcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgaW50ZWdyYXRpb24uaW5pdGlhbGl6ZU1vZGVsTW9uaXRvcmluZyhcbiAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgbW9ja0Jhc2VsaW5lTWV0cmljc1xuICAgICAgKTtcblxuICAgICAgLy8gU2hvdWxkIGhhdmUgcHVibGlzaGVkIGJhc2VsaW5lIG1ldHJpY3NcbiAgICAgIGV4cGVjdChjbG91ZFdhdGNoTW9jay5jYWxscygpKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBjb25zdCBjYWxsID0gY2xvdWRXYXRjaE1vY2suY2FsbCgwKTtcbiAgICAgIGV4cGVjdChjYWxsLmFyZ3NbMF0uaW5wdXQpLnRvTWF0Y2hPYmplY3Qoe1xuICAgICAgICBOYW1lc3BhY2U6IFwiQUkvRHJpZnQvQmFzZWxpbmVcIixcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5pdGlhbGl6ZSBtb25pdG9yaW5nIHdpdGggU2FnZU1ha2VyIGNvbmZpZ3VyYXRpb25cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc2FnZU1ha2VyQ29uZmlnID0ge1xuICAgICAgICBlbmRwb2ludE5hbWU6IFwidGVzdC1lbmRwb2ludFwiLFxuICAgICAgICBiYXNlbGluZURhdGFVcmk6IFwiczM6Ly9idWNrZXQvYmFzZWxpbmUtZGF0YVwiLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgaW50ZWdyYXRpb24uaW5pdGlhbGl6ZU1vZGVsTW9uaXRvcmluZyhcbiAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgbW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgc2FnZU1ha2VyQ29uZmlnXG4gICAgICApO1xuXG4gICAgICAvLyBTaG91bGQgaGF2ZSBzZXQgdXAgU2FnZU1ha2VyIG1vbml0b3JpbmdcbiAgICAgIGV4cGVjdChjbG91ZFdhdGNoTW9jay5jYWxscygpKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwibW9uaXRvckludGVyYWN0aW9uXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsb3VkV2F0Y2hNb2NrLm9uKFB1dE1ldHJpY0RhdGFDb21tYW5kKS5yZXNvbHZlcyh7fSk7XG4gICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5pbml0aWFsaXplTW9kZWxNb25pdG9yaW5nKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBtb2NrQmFzZWxpbmVNZXRyaWNzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbW9uaXRvciBBSSBpbnRlcmFjdGlvbiB3aXRoIGludGVncmF0ZWQgYW5hbHlzaXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudE1ldHJpY3M6IERyaWZ0TWV0cmljcyA9IHtcbiAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXRhRHJpZnQ6IHtcbiAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLmRhdGFEcmlmdCxcbiAgICAgICAgICBzY29yZTogMC4yLCAvLyBTbGlnaHQgZHJpZnRcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVncmF0aW9uLm1vbml0b3JJbnRlcmFjdGlvbihcbiAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgXCJiZWRyb2NrXCIsXG4gICAgICAgIFwicmVxLTEyM1wiLFxuICAgICAgICBcIldoYXQgaXMgdGhlIGNhcGl0YWwgb2YgRnJhbmNlP1wiLFxuICAgICAgICBcIlRoZSBjYXBpdGFsIG9mIEZyYW5jZSBpcyBQYXJpcy5cIixcbiAgICAgICAge1xuICAgICAgICAgIGxhdGVuY3k6IDEyMDAsXG4gICAgICAgICAgdG9rZW5Db3VudDogMTUwLFxuICAgICAgICAgIGNvc3Q6IDAuMDUsXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRNZXRyaWNzXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoT2JqZWN0KHtcbiAgICAgICAgbW9kZWxJZDogXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgcHJvdmlkZXI6IFwiYmVkcm9ja1wiLFxuICAgICAgICBkcmlmdE1ldHJpY3M6IGN1cnJlbnRNZXRyaWNzLFxuICAgICAgICBxdWFsaXR5QXNzZXNzbWVudDogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1vZGVsSWQ6IFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgICAgcHJvdmlkZXI6IFwiYmVkcm9ja1wiLFxuICAgICAgICAgIHJlcXVlc3RJZDogXCJyZXEtMTIzXCIsXG4gICAgICAgIH0pLFxuICAgICAgICBjb3JyZWxhdGlvbkFuYWx5c2lzOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgZHJpZnRRdWFsaXR5Q29ycmVsYXRpb246IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBwZXJmb3JtYW5jZUltcGFjdDogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICAgIHVzZXJTYXRpc2ZhY3Rpb25JbXBhY3Q6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICByaXNrU2NvcmU6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHByaW9yaXR5OiBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL2xvd3xtZWRpdW18aGlnaHxjcml0aWNhbC8pLFxuICAgICAgICAgIGFjdGlvbnM6IGV4cGVjdC5hbnkoQXJyYXkpLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5jbHVkZSB1c2VyIGZlZWRiYWNrIGluIGFuYWx5c2lzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRNZXRyaWNzOiBEcmlmdE1ldHJpY3MgPSB7XG4gICAgICAgIC4uLm1vY2tCYXNlbGluZU1ldHJpY3MsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHVzZXJGZWVkYmFjayA9IHtcbiAgICAgICAgcmF0aW5nOiA0LFxuICAgICAgICBoZWxwZnVsOiB0cnVlLFxuICAgICAgICBhY2N1cmF0ZTogdHJ1ZSxcbiAgICAgICAgYXBwcm9wcmlhdGU6IHRydWUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbnRlZ3JhdGlvbi5tb25pdG9ySW50ZXJhY3Rpb24oXG4gICAgICAgIFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgIFwiYmVkcm9ja1wiLFxuICAgICAgICBcInJlcS0xMjNcIixcbiAgICAgICAgXCJUZXN0IGlucHV0XCIsXG4gICAgICAgIFwiVGVzdCBvdXRwdXRcIixcbiAgICAgICAge1xuICAgICAgICAgIGxhdGVuY3k6IDEwMDAsXG4gICAgICAgICAgdG9rZW5Db3VudDogMTAwLFxuICAgICAgICAgIGNvc3Q6IDAuMDMsXG4gICAgICAgICAgdXNlckZlZWRiYWNrLFxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50TWV0cmljc1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5xdWFsaXR5QXNzZXNzbWVudC51c2VyRmVlZGJhY2spLnRvRXF1YWwodXNlckZlZWRiYWNrKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgcmVzdWx0LmNvcnJlbGF0aW9uQW5hbHlzaXMudXNlclNhdGlzZmFjdGlvbkltcGFjdFxuICAgICAgKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZ2VuZXJhdGUgYXBwcm9wcmlhdGUgcmVjb21tZW5kYXRpb25zIGJhc2VkIG9uIHJpc2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaGlnaFJpc2tNZXRyaWNzOiBEcmlmdE1ldHJpY3MgPSB7XG4gICAgICAgIC4uLm1vY2tCYXNlbGluZU1ldHJpY3MsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgZGF0YURyaWZ0OiB7XG4gICAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcy5kYXRhRHJpZnQsXG4gICAgICAgICAgc2NvcmU6IDAuNiwgLy8gSGlnaCBkcmlmdFxuICAgICAgICB9LFxuICAgICAgICBwZXJmb3JtYW5jZVJlZ3Jlc3Npb246IHtcbiAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLnBlcmZvcm1hbmNlUmVncmVzc2lvbixcbiAgICAgICAgICBsYXRlbmN5OiB7XG4gICAgICAgICAgICBjdXJyZW50OiAyMDAwLFxuICAgICAgICAgICAgYmFzZWxpbmU6IDEwMDAsXG4gICAgICAgICAgICByZWdyZXNzaW9uU2NvcmU6IDEuMCwgLy8gMTAwJSByZWdyZXNzaW9uXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVncmF0aW9uLm1vbml0b3JJbnRlcmFjdGlvbihcbiAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgXCJiZWRyb2NrXCIsXG4gICAgICAgIFwicmVxLTEyM1wiLFxuICAgICAgICBcIlRlc3QgaW5wdXRcIixcbiAgICAgICAgXCJUZXN0IG91dHB1dFwiLFxuICAgICAgICB7XG4gICAgICAgICAgbGF0ZW5jeTogMjAwMCxcbiAgICAgICAgICB0b2tlbkNvdW50OiAxMDAsXG4gICAgICAgICAgY29zdDogMC4wMyxcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaFJpc2tNZXRyaWNzXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnJlY29tbWVuZGF0aW9ucy5wcmlvcml0eSkudG9CZShcImNyaXRpY2FsXCIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5yZWNvbW1lbmRhdGlvbnMuYWN0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgcmVzdWx0LnJlY29tbWVuZGF0aW9ucy5hY3Rpb25zLnNvbWUoXG4gICAgICAgICAgKGFjdGlvbikgPT4gYWN0aW9uLnR5cGUgPT09IFwiaW1tZWRpYXRlXCJcbiAgICAgICAgKVxuICAgICAgKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcHVibGlzaCBpbnRlZ3JhdGVkIG1ldHJpY3MgdG8gQ2xvdWRXYXRjaFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50TWV0cmljczogRHJpZnRNZXRyaWNzID0ge1xuICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5tb25pdG9ySW50ZXJhY3Rpb24oXG4gICAgICAgIFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgIFwiYmVkcm9ja1wiLFxuICAgICAgICBcInJlcS0xMjNcIixcbiAgICAgICAgXCJUZXN0IGlucHV0XCIsXG4gICAgICAgIFwiVGVzdCBvdXRwdXRcIixcbiAgICAgICAge1xuICAgICAgICAgIGxhdGVuY3k6IDEwMDAsXG4gICAgICAgICAgdG9rZW5Db3VudDogMTAwLFxuICAgICAgICAgIGNvc3Q6IDAuMDMsXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRNZXRyaWNzXG4gICAgICApO1xuXG4gICAgICAvLyBTaG91bGQgaGF2ZSBtdWx0aXBsZSBDbG91ZFdhdGNoIGNhbGxzOiBiYXNlbGluZSArIGN1cnJlbnQgZHJpZnQgKyBxdWFsaXR5ICsgaW50ZWdyYXRlZFxuICAgICAgY29uc3QgaW50ZWdyYXRlZENhbGwgPSBjbG91ZFdhdGNoTW9ja1xuICAgICAgICAuY2FsbHMoKVxuICAgICAgICAuZmluZCgoY2FsbCkgPT4gY2FsbC5hcmdzWzBdLmlucHV0Lk5hbWVzcGFjZSA9PT0gXCJBSS9JbnRlZ3JhdGVkXCIpO1xuICAgICAgZXhwZWN0KGludGVncmF0ZWRDYWxsKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbWFpbnRhaW4gbW9uaXRvcmluZyBoaXN0b3J5XCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRNZXRyaWNzOiBEcmlmdE1ldHJpY3MgPSB7XG4gICAgICAgIC4uLm1vY2tCYXNlbGluZU1ldHJpY3MsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH07XG5cbiAgICAgIC8vIEFkZCBtdWx0aXBsZSBpbnRlcmFjdGlvbnNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIGF3YWl0IGludGVncmF0aW9uLm1vbml0b3JJbnRlcmFjdGlvbihcbiAgICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICAgIFwiYmVkcm9ja1wiLFxuICAgICAgICAgIGByZXEtJHtpfWAsXG4gICAgICAgICAgXCJUZXN0IGlucHV0XCIsXG4gICAgICAgICAgXCJUZXN0IG91dHB1dFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxhdGVuY3k6IDEwMDAgKyBpICogMTAwLFxuICAgICAgICAgICAgdG9rZW5Db3VudDogMTAwLFxuICAgICAgICAgICAgY29zdDogMC4wMyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGN1cnJlbnRNZXRyaWNzXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhpc3Rvcnkgc2hvdWxkIGJlIG1haW50YWluZWQgKHRlc3RlZCBpbmRpcmVjdGx5IHRocm91Z2ggZGFzaGJvYXJkIGRhdGEpXG4gICAgICBjb25zdCBkYXNoYm9hcmREYXRhID0gYXdhaXQgaW50ZWdyYXRpb24uZ2V0RGFzaGJvYXJkRGF0YShcInRlc3QtbW9kZWwtMVwiLCB7XG4gICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNjAwMDApLFxuICAgICAgICBlbmQ6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZERhdGEudHJlbmRzLmRyaWZ0Lmxlbmd0aCkudG9CZSgzKTtcbiAgICAgIGV4cGVjdChkYXNoYm9hcmREYXRhLnRyZW5kcy5xdWFsaXR5Lmxlbmd0aCkudG9CZSgzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJnZXREYXNoYm9hcmREYXRhXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsb3VkV2F0Y2hNb2NrLm9uKFB1dE1ldHJpY0RhdGFDb21tYW5kKS5yZXNvbHZlcyh7fSk7XG4gICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5pbml0aWFsaXplTW9kZWxNb25pdG9yaW5nKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBtb2NrQmFzZWxpbmVNZXRyaWNzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZ2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBkYXNoYm9hcmQgZGF0YVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50TWV0cmljczogRHJpZnRNZXRyaWNzID0ge1xuICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9O1xuXG4gICAgICAvLyBBZGQgc29tZSBtb25pdG9yaW5nIGRhdGFcbiAgICAgIGF3YWl0IGludGVncmF0aW9uLm1vbml0b3JJbnRlcmFjdGlvbihcbiAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgXCJiZWRyb2NrXCIsXG4gICAgICAgIFwicmVxLTEyM1wiLFxuICAgICAgICBcIlRlc3QgaW5wdXRcIixcbiAgICAgICAgXCJUZXN0IG91dHB1dFwiLFxuICAgICAgICB7XG4gICAgICAgICAgbGF0ZW5jeTogMTAwMCxcbiAgICAgICAgICB0b2tlbkNvdW50OiAxMDAsXG4gICAgICAgICAgY29zdDogMC4wMyxcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudE1ldHJpY3NcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGRhc2hib2FyZERhdGEgPSBhd2FpdCBpbnRlZ3JhdGlvbi5nZXREYXNoYm9hcmREYXRhKFwidGVzdC1tb2RlbC0xXCIsIHtcbiAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA2MDAwMCksXG4gICAgICAgIGVuZDogbmV3IERhdGUoKSxcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QoZGFzaGJvYXJkRGF0YSkudG9NYXRjaE9iamVjdCh7XG4gICAgICAgIG1vZGVsSWQ6IFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgIHRpbWVSYW5nZTogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHN0YXJ0OiBleHBlY3QuYW55KERhdGUpLFxuICAgICAgICAgIGVuZDogZXhwZWN0LmFueShEYXRlKSxcbiAgICAgICAgfSksXG4gICAgICAgIGN1cnJlbnRTdGF0dXM6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBvdmVyYWxsSGVhbHRoOiBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL2hlYWx0aHl8d2FybmluZ3xjcml0aWNhbC8pLFxuICAgICAgICAgIGRyaWZ0U3RhdHVzOiBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL3N0YWJsZXx3YXJuaW5nfGNyaXRpY2FsLyksXG4gICAgICAgICAgcXVhbGl0eVN0YXR1czogZXhwZWN0LnN0cmluZ01hdGNoaW5nKC9nb29kfHdhcm5pbmd8cG9vci8pLFxuICAgICAgICAgIHBlcmZvcm1hbmNlU3RhdHVzOiBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL29wdGltYWx8ZGVncmFkZWR8cG9vci8pLFxuICAgICAgICB9KSxcbiAgICAgICAga2V5TWV0cmljczogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG92ZXJhbGxTY29yZTogZXhwZWN0LmFueShOdW1iZXIpLFxuICAgICAgICAgIGRyaWZ0U2NvcmU6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBxdWFsaXR5U2NvcmU6IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgICBwZXJmb3JtYW5jZVNjb3JlOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgICAgdXNlclNhdGlzZmFjdGlvblNjb3JlOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICAgIH0pLFxuICAgICAgICB0cmVuZHM6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBkcmlmdDogZXhwZWN0LmFueShBcnJheSksXG4gICAgICAgICAgcXVhbGl0eTogZXhwZWN0LmFueShBcnJheSksXG4gICAgICAgICAgcGVyZm9ybWFuY2U6IGV4cGVjdC5hbnkoQXJyYXkpLFxuICAgICAgICAgIHVzZXJTYXRpc2ZhY3Rpb246IGV4cGVjdC5hbnkoQXJyYXkpLFxuICAgICAgICB9KSxcbiAgICAgICAgYWN0aXZlQWxlcnRzOiBleHBlY3QuYW55KEFycmF5KSxcbiAgICAgICAgdG9wUmVjb21tZW5kYXRpb25zOiBleHBlY3QuYW55KEFycmF5KSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgdGhyb3cgZXJyb3Igd2hlbiBubyBkYXRhIGZvdW5kXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGV4cGVjdChcbiAgICAgICAgaW50ZWdyYXRpb24uZ2V0RGFzaGJvYXJkRGF0YShcIm5vbmV4aXN0ZW50LW1vZGVsXCIsIHtcbiAgICAgICAgICBzdGFydDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDYwMDAwKSxcbiAgICAgICAgICBlbmQ6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhcIk5vIG1vbml0b3JpbmcgZGF0YSBmb3VuZFwiKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGNhbGN1bGF0ZSBjb3JyZWN0IHN0YXR1cyBiYXNlZCBvbiBtZXRyaWNzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEFkZCBpbnRlcmFjdGlvbiB3aXRoIHBvb3IgcXVhbGl0eSBhbmQgaGlnaCBkcmlmdFxuICAgICAgY29uc3QgcG9vck1ldHJpY3M6IERyaWZ0TWV0cmljcyA9IHtcbiAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXRhRHJpZnQ6IHtcbiAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLmRhdGFEcmlmdCxcbiAgICAgICAgICBzY29yZTogMC42LCAvLyBDcml0aWNhbCBkcmlmdFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgaW50ZWdyYXRpb24ubW9uaXRvckludGVyYWN0aW9uKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBcImJlZHJvY2tcIixcbiAgICAgICAgXCJyZXEtMTIzXCIsXG4gICAgICAgIFwiVGVzdCBpbnB1dFwiLFxuICAgICAgICBcImhhdGUgdG94aWMgaGFybWZ1bCBvZmZlbnNpdmVcIiwgLy8gUG9vciBxdWFsaXR5IG91dHB1dFxuICAgICAgICB7XG4gICAgICAgICAgbGF0ZW5jeTogMzAwMCwgLy8gSGlnaCBsYXRlbmN5XG4gICAgICAgICAgdG9rZW5Db3VudDogMTAwLFxuICAgICAgICAgIGNvc3Q6IDAuMDMsXG4gICAgICAgIH0sXG4gICAgICAgIHBvb3JNZXRyaWNzXG4gICAgICApO1xuXG4gICAgICBjb25zdCBkYXNoYm9hcmREYXRhID0gYXdhaXQgaW50ZWdyYXRpb24uZ2V0RGFzaGJvYXJkRGF0YShcInRlc3QtbW9kZWwtMVwiLCB7XG4gICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNjAwMDApLFxuICAgICAgICBlbmQ6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZERhdGEuY3VycmVudFN0YXR1cy5vdmVyYWxsSGVhbHRoKS50b0JlKFwiY3JpdGljYWxcIik7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkRGF0YS5jdXJyZW50U3RhdHVzLmRyaWZ0U3RhdHVzKS50b0JlKFwiY3JpdGljYWxcIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiZ2V0UXVhbGl0eVRyZW5kc1dpdGhEcmlmdFwiLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBjbG91ZFdhdGNoTW9jay5vbihQdXRNZXRyaWNEYXRhQ29tbWFuZCkucmVzb2x2ZXMoe30pO1xuICAgICAgYXdhaXQgaW50ZWdyYXRpb24uaW5pdGlhbGl6ZU1vZGVsTW9uaXRvcmluZyhcbiAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgbW9ja0Jhc2VsaW5lTWV0cmljc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGFuYWx5emUgcXVhbGl0eSB0cmVuZHMgd2l0aCBkcmlmdCBjb3JyZWxhdGlvblwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgY29uc3Qgb25lSG91ckFnbyA9IG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgLSA2MCAqIDYwICogMTAwMCk7XG5cbiAgICAgIC8vIEFkZCBpbnRlcmFjdGlvbnMgd2l0aCB2YXJ5aW5nIGRyaWZ0IGFuZCBxdWFsaXR5XG4gICAgICBjb25zdCBpbnRlcmFjdGlvbnMgPSBbXG4gICAgICAgIHsgZHJpZnQ6IDAuMSwgcXVhbGl0eTogXCJnb29kXCIgfSxcbiAgICAgICAgeyBkcmlmdDogMC4zLCBxdWFsaXR5OiBcIm1lZGl1bVwiIH0sXG4gICAgICAgIHsgZHJpZnQ6IDAuNSwgcXVhbGl0eTogXCJwb29yXCIgfSxcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3QgW2luZGV4LCB7IGRyaWZ0IH1dIG9mIGludGVyYWN0aW9ucy5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29uc3QgbWV0cmljczogRHJpZnRNZXRyaWNzID0ge1xuICAgICAgICAgIC4uLm1vY2tCYXNlbGluZU1ldHJpY3MsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShvbmVIb3VyQWdvLmdldFRpbWUoKSArIGluZGV4ICogMjAgKiA2MCAqIDEwMDApLFxuICAgICAgICAgIGRhdGFEcmlmdDoge1xuICAgICAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcy5kYXRhRHJpZnQsXG4gICAgICAgICAgICBzY29yZTogZHJpZnQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5tb25pdG9ySW50ZXJhY3Rpb24oXG4gICAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgICBcImJlZHJvY2tcIixcbiAgICAgICAgICBgcmVxLSR7aW5kZXh9YCxcbiAgICAgICAgICBcIlRlc3QgaW5wdXRcIixcbiAgICAgICAgICBcIlRlc3Qgb3V0cHV0XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGF0ZW5jeTogMTAwMCxcbiAgICAgICAgICAgIHRva2VuQ291bnQ6IDEwMCxcbiAgICAgICAgICAgIGNvc3Q6IDAuMDMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtZXRyaWNzXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyZW5kc1dpdGhEcmlmdCA9IGF3YWl0IGludGVncmF0aW9uLmdldFF1YWxpdHlUcmVuZHNXaXRoRHJpZnQoXG4gICAgICAgIFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGFydDogb25lSG91ckFnbyxcbiAgICAgICAgICBlbmQ6IG5vdyxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHRyZW5kc1dpdGhEcmlmdCkudG9NYXRjaE9iamVjdCh7XG4gICAgICAgIG1vZGVsSWQ6IFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgIGRyaWZ0Q29ycmVsYXRpb246IGV4cGVjdC5hbnkoTnVtYmVyKSxcbiAgICAgICAgdHJlbmRzOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgb3ZlcmFsbFF1YWxpdHk6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIHRyZW5kOiBleHBlY3Quc3RyaW5nTWF0Y2hpbmcoL2ltcHJvdmluZ3xzdGFibGV8ZGVncmFkaW5nLyksXG4gICAgICAgICAgfSksXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIERyaWZ0IGNvcnJlbGF0aW9uIHNob3VsZCBiZSBuZWdhdGl2ZSAoaGlnaGVyIGRyaWZ0ID0gbG93ZXIgcXVhbGl0eSlcbiAgICAgIGV4cGVjdCh0cmVuZHNXaXRoRHJpZnQuZHJpZnRDb3JyZWxhdGlvbikudG9CZUxlc3NUaGFuT3JFcXVhbCgwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJhbGVydCBoYW5kbGluZ1wiLCAoKSA9PiB7XG4gICAgYmVmb3JlRWFjaChhc3luYyAoKSA9PiB7XG4gICAgICBjbG91ZFdhdGNoTW9jay5vbihQdXRNZXRyaWNEYXRhQ29tbWFuZCkucmVzb2x2ZXMoe30pO1xuICAgICAgYXdhaXQgaW50ZWdyYXRpb24uaW5pdGlhbGl6ZU1vZGVsTW9uaXRvcmluZyhcbiAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgbW9ja0Jhc2VsaW5lTWV0cmljc1xuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJlZ2lzdGVyIGFuZCBoYW5kbGUgYWxlcnRzIGZyb20gYm90aCBtb25pdG9yc1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBhbGVydENhbGxiYWNrID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBpbnRlZ3JhdGlvbi5vbkFsZXJ0KGFsZXJ0Q2FsbGJhY2spO1xuXG4gICAgICAvLyBUcmlnZ2VyIGFsZXJ0cyB0aHJvdWdoIHBvb3IgcXVhbGl0eSBpbnRlcmFjdGlvblxuICAgICAgY29uc3QgcG9vck1ldHJpY3M6IERyaWZ0TWV0cmljcyA9IHtcbiAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXRhRHJpZnQ6IHtcbiAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLmRhdGFEcmlmdCxcbiAgICAgICAgICBzY29yZTogMC42LCAvLyBDcml0aWNhbCBkcmlmdFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgaW50ZWdyYXRpb24ubW9uaXRvckludGVyYWN0aW9uKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBcImJlZHJvY2tcIixcbiAgICAgICAgXCJyZXEtMTIzXCIsXG4gICAgICAgIFwiVGVzdCBpbnB1dFwiLFxuICAgICAgICBcImhhdGUgdG94aWMgaGFybWZ1bCBvZmZlbnNpdmVcIiwgLy8gUG9vciBxdWFsaXR5XG4gICAgICAgIHtcbiAgICAgICAgICBsYXRlbmN5OiAxMDAwLFxuICAgICAgICAgIHRva2VuQ291bnQ6IDEwMCxcbiAgICAgICAgICBjb3N0OiAwLjAzLFxuICAgICAgICB9LFxuICAgICAgICBwb29yTWV0cmljc1xuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGFsZXJ0Q2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBhbGVydCBjYWxsYmFjayBlcnJvcnMgZ3JhY2VmdWxseVwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmYWlsaW5nQ2FsbGJhY2sgPSBqZXN0XG4gICAgICAgIC5mbigpXG4gICAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoXCJDYWxsYmFjayBmYWlsZWRcIikpO1xuICAgICAgaW50ZWdyYXRpb24ub25BbGVydChmYWlsaW5nQ2FsbGJhY2spO1xuXG4gICAgICAvLyBTaG91bGQgbm90IHRocm93IGRlc3BpdGUgY2FsbGJhY2sgZmFpbHVyZVxuICAgICAgY29uc3QgcG9vck1ldHJpY3M6IERyaWZ0TWV0cmljcyA9IHtcbiAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXRhRHJpZnQ6IHtcbiAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLmRhdGFEcmlmdCxcbiAgICAgICAgICBzY29yZTogMC42LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBpbnRlZ3JhdGlvbi5tb25pdG9ySW50ZXJhY3Rpb24oXG4gICAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgICBcImJlZHJvY2tcIixcbiAgICAgICAgICBcInJlcS0xMjNcIixcbiAgICAgICAgICBcIlRlc3QgaW5wdXRcIixcbiAgICAgICAgICBcImhhdGUgdG94aWNcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBsYXRlbmN5OiAxMDAwLFxuICAgICAgICAgICAgdG9rZW5Db3VudDogMTAwLFxuICAgICAgICAgICAgY29zdDogMC4wMyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvb3JNZXRyaWNzXG4gICAgICAgIClcbiAgICAgICkucmVzb2x2ZXMubm90LnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJjb3JyZWxhdGlvbiBhbmFseXNpc1wiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgY2FsY3VsYXRlIG1lYW5pbmdmdWwgY29ycmVsYXRpb25zXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNsb3VkV2F0Y2hNb2NrLm9uKFB1dE1ldHJpY0RhdGFDb21tYW5kKS5yZXNvbHZlcyh7fSk7XG4gICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5pbml0aWFsaXplTW9kZWxNb25pdG9yaW5nKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBtb2NrQmFzZWxpbmVNZXRyaWNzXG4gICAgICApO1xuXG4gICAgICBjb25zdCBoaWdoUmlza01ldHJpY3M6IERyaWZ0TWV0cmljcyA9IHtcbiAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICBkYXRhRHJpZnQ6IHtcbiAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLmRhdGFEcmlmdCxcbiAgICAgICAgICBzY29yZTogMC44LCAvLyBIaWdoIGRyaWZ0XG4gICAgICAgIH0sXG4gICAgICAgIHBlcmZvcm1hbmNlUmVncmVzc2lvbjoge1xuICAgICAgICAgIC4uLm1vY2tCYXNlbGluZU1ldHJpY3MucGVyZm9ybWFuY2VSZWdyZXNzaW9uLFxuICAgICAgICAgIGxhdGVuY3k6IHtcbiAgICAgICAgICAgIGN1cnJlbnQ6IDMwMDAsXG4gICAgICAgICAgICBiYXNlbGluZTogMTAwMCxcbiAgICAgICAgICAgIHJlZ3Jlc3Npb25TY29yZTogMi4wLCAvLyAyMDAlIHJlZ3Jlc3Npb25cbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW50ZWdyYXRpb24ubW9uaXRvckludGVyYWN0aW9uKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBcImJlZHJvY2tcIixcbiAgICAgICAgXCJyZXEtMTIzXCIsXG4gICAgICAgIFwiVGVzdCBpbnB1dFwiLFxuICAgICAgICBcIlRlc3Qgb3V0cHV0XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBsYXRlbmN5OiAzMDAwLFxuICAgICAgICAgIHRva2VuQ291bnQ6IDEwMCxcbiAgICAgICAgICBjb3N0OiAwLjAzLFxuICAgICAgICAgIHVzZXJGZWVkYmFjazoge1xuICAgICAgICAgICAgcmF0aW5nOiAxLCAvLyBQb29yIHVzZXIgcmF0aW5nXG4gICAgICAgICAgICBoZWxwZnVsOiBmYWxzZSxcbiAgICAgICAgICAgIGFjY3VyYXRlOiBmYWxzZSxcbiAgICAgICAgICAgIGFwcHJvcHJpYXRlOiBmYWxzZSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBoaWdoUmlza01ldHJpY3NcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY29ycmVsYXRpb25BbmFseXNpcy5yaXNrU2NvcmUpLnRvQmVHcmVhdGVyVGhhbigwLjUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jb3JyZWxhdGlvbkFuYWx5c2lzLnBlcmZvcm1hbmNlSW1wYWN0KS50b0JlR3JlYXRlclRoYW4oMC41KTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY29ycmVsYXRpb25BbmFseXNpcy51c2VyU2F0aXNmYWN0aW9uSW1wYWN0KS50b0JlR3JlYXRlclRoYW4oXG4gICAgICAgIDAuNVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJyZWNvbW1lbmRhdGlvbiBnZW5lcmF0aW9uXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsb3VkV2F0Y2hNb2NrLm9uKFB1dE1ldHJpY0RhdGFDb21tYW5kKS5yZXNvbHZlcyh7fSk7XG4gICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5pbml0aWFsaXplTW9kZWxNb25pdG9yaW5nKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBtb2NrQmFzZWxpbmVNZXRyaWNzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZ2VuZXJhdGUgYXBwcm9wcmlhdGUgcmVjb21tZW5kYXRpb25zIGZvciBkaWZmZXJlbnQgc2NlbmFyaW9zXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNjZW5hcmlvcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIG5hbWU6IFwiaGlnaCBkYXRhIGRyaWZ0XCIsXG4gICAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgICAgIGRhdGFEcmlmdDogeyAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLmRhdGFEcmlmdCwgc2NvcmU6IDAuNiB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhwZWN0ZWRBY3Rpb25zOiBbXCJ0cmFpbmluZyBkYXRhXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJoaWdoIHByb21wdCBkcmlmdFwiLFxuICAgICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICAgIC4uLm1vY2tCYXNlbGluZU1ldHJpY3MsXG4gICAgICAgICAgICBwcm9tcHREcmlmdDoge1xuICAgICAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLnByb21wdERyaWZ0LFxuICAgICAgICAgICAgICBkcmlmdFNjb3JlOiAwLjUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXhwZWN0ZWRBY3Rpb25zOiBbXCJwcm9tcHQgdGVtcGxhdGVzXCJdLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJwZXJmb3JtYW5jZSByZWdyZXNzaW9uXCIsXG4gICAgICAgICAgbWV0cmljczoge1xuICAgICAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgICAgIHBlcmZvcm1hbmNlUmVncmVzc2lvbjoge1xuICAgICAgICAgICAgICAuLi5tb2NrQmFzZWxpbmVNZXRyaWNzLnBlcmZvcm1hbmNlUmVncmVzc2lvbixcbiAgICAgICAgICAgICAgbGF0ZW5jeTogeyBjdXJyZW50OiAyMDAwLCBiYXNlbGluZTogMTAwMCwgcmVncmVzc2lvblNjb3JlOiAxLjAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBleHBlY3RlZEFjdGlvbnM6IFtcInBlcmZvcm1hbmNlIGJvdHRsZW5lY2tzXCJdLFxuICAgICAgICB9LFxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCBzY2VuYXJpbyBvZiBzY2VuYXJpb3MpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW50ZWdyYXRpb24ubW9uaXRvckludGVyYWN0aW9uKFxuICAgICAgICAgIFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgICAgXCJiZWRyb2NrXCIsXG4gICAgICAgICAgYHJlcS0ke3NjZW5hcmlvLm5hbWV9YCxcbiAgICAgICAgICBcIlRlc3QgaW5wdXRcIixcbiAgICAgICAgICBcIlRlc3Qgb3V0cHV0XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGF0ZW5jeTogMTAwMCxcbiAgICAgICAgICAgIHRva2VuQ291bnQ6IDEwMCxcbiAgICAgICAgICAgIGNvc3Q6IDAuMDMsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IC4uLnNjZW5hcmlvLm1ldHJpY3MsIHRpbWVzdGFtcDogbmV3IERhdGUoKSB9XG4gICAgICAgICk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdC5yZWNvbW1lbmRhdGlvbnMuYWN0aW9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBleHBlY3RlZCBhY3Rpb24gdHlwZXMgYXJlIHByZXNlbnRcbiAgICAgICAgY29uc3QgYWN0aW9uRGVzY3JpcHRpb25zID0gcmVzdWx0LnJlY29tbWVuZGF0aW9ucy5hY3Rpb25zLm1hcCgoYSkgPT5cbiAgICAgICAgICBhLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKClcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KFxuICAgICAgICAgIHNjZW5hcmlvLmV4cGVjdGVkQWN0aW9ucy5zb21lKChleHBlY3RlZCkgPT5cbiAgICAgICAgICAgIGFjdGlvbkRlc2NyaXB0aW9ucy5zb21lKChkZXNjKSA9PiBkZXNjLmluY2x1ZGVzKGV4cGVjdGVkKSlcbiAgICAgICAgICApXG4gICAgICAgICkudG9CZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJlcnJvciBoYW5kbGluZ1wiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIENsb3VkV2F0Y2ggZXJyb3JzIGdyYWNlZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY2xvdWRXYXRjaE1vY2tcbiAgICAgICAgLm9uKFB1dE1ldHJpY0RhdGFDb21tYW5kKVxuICAgICAgICAucmVqZWN0cyhuZXcgRXJyb3IoXCJDbG91ZFdhdGNoIGVycm9yXCIpKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBpbnRlZ3JhdGlvbi5pbml0aWFsaXplTW9kZWxNb25pdG9yaW5nKFxuICAgICAgICAgIFwidGVzdC1tb2RlbC0xXCIsXG4gICAgICAgICAgbW9ja0Jhc2VsaW5lTWV0cmljc1xuICAgICAgICApXG4gICAgICApLnJlamVjdHMudG9UaHJvdyhcIkNsb3VkV2F0Y2ggZXJyb3JcIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiaW50ZWdyYXRpb24gc2NlbmFyaW9zXCIsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNsb3VkV2F0Y2hNb2NrLm9uKFB1dE1ldHJpY0RhdGFDb21tYW5kKS5yZXNvbHZlcyh7fSk7XG4gICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5pbml0aWFsaXplTW9kZWxNb25pdG9yaW5nKFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICBtb2NrQmFzZWxpbmVNZXRyaWNzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIGNvbXBsZXRlIG1vbml0b3Jpbmcgd29ya2Zsb3dcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYWxlcnRDYWxsYmFjayA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgaW50ZWdyYXRpb24ub25BbGVydChhbGVydENhbGxiYWNrKTtcblxuICAgICAgLy8gU2ltdWxhdGUgYSBzZXJpZXMgb2YgaW50ZXJhY3Rpb25zIHdpdGggZGVncmFkaW5nIHF1YWxpdHlcbiAgICAgIGNvbnN0IGludGVyYWN0aW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGRyaWZ0OiAwLjEsXG4gICAgICAgICAgb3V0cHV0OiBcIkhpZ2ggcXVhbGl0eSByZXNwb25zZSB3aXRoIGdvb2QgY29oZXJlbmNlIGFuZCByZWxldmFuY2UuXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHsgZHJpZnQ6IDAuMywgb3V0cHV0OiBcIk1lZGl1bSBxdWFsaXR5IHJlc3BvbnNlIHdpdGggc29tZSBpc3N1ZXMuXCIgfSxcbiAgICAgICAgeyBkcmlmdDogMC42LCBvdXRwdXQ6IFwiaGF0ZSB0b3hpYyBoYXJtZnVsIG9mZmVuc2l2ZSBhbHdheXMgbmV2ZXJcIiB9LCAvLyBQb29yIHF1YWxpdHlcbiAgICAgIF07XG5cbiAgICAgIGZvciAoY29uc3QgW2luZGV4LCB7IGRyaWZ0LCBvdXRwdXQgfV0gb2YgaW50ZXJhY3Rpb25zLmVudHJpZXMoKSkge1xuICAgICAgICBjb25zdCBtZXRyaWNzOiBEcmlmdE1ldHJpY3MgPSB7XG4gICAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKERhdGUubm93KCkgKyBpbmRleCAqIDEwMDApLFxuICAgICAgICAgIGRhdGFEcmlmdDoge1xuICAgICAgICAgICAgLi4ubW9ja0Jhc2VsaW5lTWV0cmljcy5kYXRhRHJpZnQsXG4gICAgICAgICAgICBzY29yZTogZHJpZnQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcblxuICAgICAgICBhd2FpdCBpbnRlZ3JhdGlvbi5tb25pdG9ySW50ZXJhY3Rpb24oXG4gICAgICAgICAgXCJ0ZXN0LW1vZGVsLTFcIixcbiAgICAgICAgICBcImJlZHJvY2tcIixcbiAgICAgICAgICBgcmVxLSR7aW5kZXh9YCxcbiAgICAgICAgICBcIlRlc3QgaW5wdXRcIixcbiAgICAgICAgICBvdXRwdXQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGF0ZW5jeTogMTAwMCArIGluZGV4ICogNTAwLFxuICAgICAgICAgICAgdG9rZW5Db3VudDogMTAwLFxuICAgICAgICAgICAgY29zdDogMC4wMyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1ldHJpY3NcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IGRhc2hib2FyZCBkYXRhXG4gICAgICBjb25zdCBkYXNoYm9hcmREYXRhID0gYXdhaXQgaW50ZWdyYXRpb24uZ2V0RGFzaGJvYXJkRGF0YShcInRlc3QtbW9kZWwtMVwiLCB7XG4gICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNjAwMDApLFxuICAgICAgICBlbmQ6IG5ldyBEYXRlKCksXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGRhc2hib2FyZERhdGEuY3VycmVudFN0YXR1cy5vdmVyYWxsSGVhbHRoKS50b0JlKFwiY3JpdGljYWxcIik7XG4gICAgICBleHBlY3QoZGFzaGJvYXJkRGF0YS50cmVuZHMuZHJpZnQubGVuZ3RoKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KGRhc2hib2FyZERhdGEudHJlbmRzLnF1YWxpdHkubGVuZ3RoKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KGRhc2hib2FyZERhdGEudG9wUmVjb21tZW5kYXRpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICAvLyBTaG91bGQgaGF2ZSByZWNlaXZlZCBhbGVydHNcbiAgICAgIGV4cGVjdChhbGVydENhbGxiYWNrKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG5cbiAgICAgIC8vIEdldCBxdWFsaXR5IHRyZW5kcyB3aXRoIGRyaWZ0IGNvcnJlbGF0aW9uXG4gICAgICBjb25zdCB0cmVuZHNXaXRoRHJpZnQgPSBhd2FpdCBpbnRlZ3JhdGlvbi5nZXRRdWFsaXR5VHJlbmRzV2l0aERyaWZ0KFxuICAgICAgICBcInRlc3QtbW9kZWwtMVwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSA2MDAwMCksXG4gICAgICAgICAgZW5kOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9XG4gICAgICApO1xuXG4gICAgICBleHBlY3QodHJlbmRzV2l0aERyaWZ0LmRyaWZ0Q29ycmVsYXRpb24pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodHJlbmRzV2l0aERyaWZ0LnRyZW5kcy5vdmVyYWxsUXVhbGl0eS50cmVuZCkudG9CZShcImRlZ3JhZGluZ1wiKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==