#!/usr/bin/env npx tsx

console.log('ğŸ” Debug: Starting...');

try {
  console.log('ğŸ” Debug: Importing validator...');
  const { KiroSystemPurityValidator } = await import('../src/lib/architecture-scanner/kiro-system-purity-validator');
  console.log('âœ… Debug: Import successful');
  
  console.log('ğŸ” Debug: Creating validator instance...');
  const validator = new KiroSystemPurityValidator();
  console.log('âœ… Debug: Validator created');
  
  console.log('ğŸ” Debug: Testing simple method...');
  const origin = (validator as any).detectOrigin('// Generated by Kiro\nexport const test = {}');
  console.log('âœ… Debug: Origin detection result:', origin);
  
  console.log('ğŸ‰ Debug: All basic tests passed!');
} catch (error) {
  console.error('âŒ Debug: Error occurred:', error);
  process.exit(1);
}