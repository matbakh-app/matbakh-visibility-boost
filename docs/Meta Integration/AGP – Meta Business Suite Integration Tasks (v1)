Hier ist die fertige **Markdown-Roadmap-Sektion** für deine `tasks.md` —
strukturiert im Stil deiner bisherigen Projektdateien (klar, audit-ready, priorisiert):

---

## 🧩 **AGP – Meta Business Suite Integration Tasks (v1)**

**Ziel:** Sichere & KI-gestützte Steuerung von Meta-Business-Profilen durch matbakh.app-Agenten
**Status:** Geplant (Start nach Bedrock-Stabilisierung)
**Abhängigkeiten:** Bedrock ✅ | AGP ✅ | Audit-Trail ✅ | Gemini 🟡 optional

---

### 📅 **Implementierungs-Timeline**

| Phase                          | Task                                                                                                           | Beschreibung                                                          | Status     |
| ------------------------------ | -------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- | ---------- |
| **P1 – Setup & Auth**          | [ ] Implement OAuth 2.0 Flow (`/auth/meta`)                                                                    | Meta Login → Token Exchange → Secure Storage (KMS)                    | ⏳ geplant |
|                                | [ ] Define required scopes (`pages_manage_posts`, `instagram_basic`, `business_management` etc.)               | Token-Scope Matrix + Permission Management                            | ⏳ geplant |
| **P2 – AGP Integration**       | [ ] Create `meta-suite-agent` spec (`/src/lib/agents/meta-suite-agent.ts`)                                     | Registrierung im AGP Registry + Capability / Intent Declaration       | ⏳ geplant |
|                                | [ ] Implement intents: `meta.profile.update`, `meta.post.create`, `meta.comment.reply`, `meta.analytics.fetch` | API-Mapping → Graph Endpoints                                         | ⏳ geplant |
|                                | [ ] Connect to Bedrock Orchestrator                                                                            | Intent Routing via Lambda / AGP → Meta Graph API                      | ⏳ geplant |
| **P3 – Security & Governance** | [ ] Integrate Audit-Trail Logging                                                                              | Vollständige Nachverfolgbarkeit (Agent ID, Intent, Timestamp, Digest) | ⏳ geplant |
|                                | [ ] Implement RBAC (Role-Based Access Control)                                                                 | Owner / Marketing Manager / Read-Only Levels                          | ⏳ geplant |
|                                | [ ] Add “Approval Mode” for publishing actions                                                                 | Vorschau → User Approval → Execution                                  | ⏳ geplant |
| **P4 – Testing & Validation**  | [ ] Sandbox OAuth Login / Test Page Integration                                                                | Verify Token Exchange + Scope Validation                              | ⏳ geplant |
|                                | [ ] Test Profile Update Flow                                                                                   | Öffnungszeiten / Bio / Kontaktinfo aktualisieren                      | ⏳ geplant |
|                                | [ ] Test Post Creation Flow                                                                                    | Feed-Post + Scheduled Post                                            | ⏳ geplant |
|                                | [ ] Test Comment Reply Flow                                                                                    | Kommentar-Antwort mit Approval                                        | ⏳ geplant |
|                                | [ ] Test Insights Sync                                                                                         | Abruf von Engagement-Metriken                                         | ⏳ geplant |
| **P5 – Compliance & DSGVO**    | [ ] Implement `meta/revoke` route + token revocation                                                           | Nutzer kann Zugriff jederzeit widerrufen                              | ⏳ geplant |
|                                | [ ] Update `public/locales/{lang}/legal.json` with Meta consent text                                           | Einwilligungserklärung + Audit-Nachweis                               | ⏳ geplant |
| **P6 – Launch & Monitoring**   | [ ] Shadow Mode (Audit Only)                                                                                   | Logs + Previews aktiv, keine Live-Writes                              | ⏳ geplant |
|                                | [ ] Activate Live Mode (Post & Profile Management)                                                             | Vollintegration unter Audit-Trail-Kontrolle                           | ⏳ geplant |
|                                | [ ] Integrate Meta Alerts into Dashboard                                                                       | Fehler, Rate Limits, Token Expiry                                     | ⏳ geplant |

---

### 🔐 **Governance / Approval Checklist**

- [ ] OAuth Scopes approved by Legal (GDPR review)
- [ ] Tokens encrypted & rotated every 90 days
- [ ] All API calls logged in `ai_operations_audit_trail`
- [ ] AGP Security Hook enabled (`approval_required: true`)
- [ ] User can revoke Meta access in Settings

---

### 🧭 **Meilensteine**

| Meilenstein                                 | Zieltermin            | Verantwortlich    |
| ------------------------------------------- | --------------------- | ----------------- |
| ✅ Bedrock Stable Build                     | KW 42 (≈ 20 Okt 2025) | Infra Team        |
| 🚀 AGP Registry + Meta Agent Spec fertig    | KW 43                 | AI Team           |
| 🔐 OAuth 2.0 Flow aktiv + Legal freigegeben | KW 44                 | Auth Team / Legal |
| 🧪 Shadow Mode Tests (P4)                   | KW 45                 | DevOps + PO       |
| 🌍 Full Launch Meta Agent Integration       | KW 46–47              | CTO + PO          |

---

### 🧠 **Hinweis**

Diese Integration wird **nach Bedrock-Stabilität, aber vor Gemini-Aktivierung** umgesetzt,
damit Gemini-basierte Agenten bereits durch das neue **Security-, OAuth- und Audit-Layer** geschützt agieren können.

---

Möchtest du, dass ich dir als Nächstes die **AGP-Intent-Schemas** (`meta.profile.update`, `meta.post.create`, etc.) in JSON-Format generiere, damit sie direkt in deine `agent-specs/`-Registry aufgenommen werden können?
