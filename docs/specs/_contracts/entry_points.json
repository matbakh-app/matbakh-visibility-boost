{
  "version": "1.0",
  "description": "Defines all entry points for the Visibility Check system",
  "entry_points": [
    {
      "id": "landing_teaser_inline",
      "type": "web",
      "path": "/",
      "description": "Inline panel in landing page hero section",
      "params": ["utm_*", "ref", "partner"],
      "tracking_event": "vc_entry_landing_inline"
    },
    {
      "id": "vc_standalone", 
      "type": "web",
      "path": "/vc",
      "description": "Dedicated standalone VC page",
      "params": ["utm_*", "ref", "partner"],
      "tracking_event": "vc_entry_standalone"
    },
    {
      "id": "share_linkedin",
      "type": "share", 
      "path": "/vc",
      "description": "LinkedIn share link with OG preview",
      "params": ["ref=li", "c"],
      "tracking_event": "vc_entry_share_linkedin"
    },
    {
      "id": "share_facebook",
      "type": "share",
      "path": "/vc", 
      "description": "Facebook share link with OG preview",
      "params": ["ref=fb", "c"],
      "tracking_event": "vc_entry_share_facebook"
    },
    {
      "id": "partner_iframe",
      "type": "embed",
      "path": "/embed/vc",
      "description": "Partner iframe embed with secure authentication",
      "params": ["partner", "sig", "utm_*"],
      "tracking_event": "vc_entry_partner_embed",
      "security": {
        "requires_signature": true,
        "allowlist_required": true,
        "postmessage_events": ["vc_ready", "vc_submit", "vc_doi_sent"]
      }
    },
    {
      "id": "partner_embed",
      "type": "embed",
      "path": "/vc/quick",
      "description": "Embedded VC start on partner sites via iframe/snippet",
      "required_params": ["partner_id"],
      "optional_params": ["campaign_id", "utm_source", "utm_medium", "utm_campaign", "utm_term", "utm_content", "lang"],
      "tracking_event": "vc_entry_partner_embed",
      "security": {
        "allowed_origins_source": "docs/dashboard/governance.md#allowed-embed-origins",
        "origin_validation": true
      },
      "postMessage_events": ["vc:ready", "vc:height", "vc:submit", "vc:success", "vc:error"]
    },
    {
      "id": "qr_offline",
      "type": "web",
      "path": "/vc",
      "description": "QR code for offline campaigns",
      "params": ["ref=qr_*"],
      "tracking_event": "vc_entry_qr_offline"
    },
    {
      "id": "linkedin_leadgen_webhook",
      "type": "webhook",
      "path": "/integrations/linkedin/leadgen",
      "description": "LinkedIn Lead Gen form webhook integration",
      "params": ["lead_id", "form_id", "campaign_id"],
      "tracking_event": "vc_entry_linkedin_leadgen",
      "maps_to": "/vc/start",
      "idempotent_key": "lead_id"
    }
  ],
  "common_tracking_fields": [
    "tracking_id",
    "partner", 
    "ref",
    "utm_source",
    "utm_medium", 
    "utm_campaign",
    "utm_content",
    "provider",
    "latency_ms",
    "timestamp"
  ]
}