{
  "UserPoolName": "MatbakhAppUserPool",
  "Policies": {
    "PasswordPolicy": {
      "MinimumLength": 8,
      "RequireUppercase": true,
      "RequireLowercase": true,
      "RequireNumbers": true,
      "RequireSymbols": false,
      "TemporaryPasswordValidityDays": 7
    }
  },
  "AutoVerifiedAttributes": ["email"],
  "AliasAttributes": ["email"],
  "UsernameAttributes": ["email"],
  "MfaConfiguration": "OPTIONAL",
  "EnabledMfas": ["SMS_MFA", "SOFTWARE_TOKEN_MFA"],
  "UserAttributeUpdateSettings": {
    "AttributesRequireVerificationBeforeUpdate": ["email"]
  },
  "AccountRecoverySetting": {
    "RecoveryMechanisms": [
      {"Name": "verified_email", "Priority": 1},
      {"Name": "verified_phone_number", "Priority": 2}
    ]
  },
  "EmailConfiguration": {
    "EmailSendingAccount": "DEVELOPER",
    "SourceArn": "arn:aws:ses:eu-central-1:ACCOUNT:identity/noreply@matbakh.app",
    "ReplyToEmailAddress": "support@matbakh.app"
  },
  "Schema": [
    {
      "Name": "email",
      "AttributeDataType": "String",
      "Required": true,
      "Mutable": true
    },
    {
      "Name": "given_name",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": true
    },
    {
      "Name": "family_name",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": true
    },
    {
      "Name": "phone_number",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": true
    },
    {
      "Name": "custom:user_role",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": true,
      "DeveloperOnlyAttribute": false
    },
    {
      "Name": "custom:locale",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": true,
      "DeveloperOnlyAttribute": false
    },
    {
      "Name": "custom:profile_complete",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": true,
      "DeveloperOnlyAttribute": false
    },
    {
      "Name": "custom:onboarding_step",
      "AttributeDataType": "Number",
      "Required": false,
      "Mutable": true,
      "DeveloperOnlyAttribute": false
    },
    {
      "Name": "custom:business_id",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": true,
      "DeveloperOnlyAttribute": false
    },
    {
      "Name": "custom:supabase_id",
      "AttributeDataType": "String",
      "Required": false,
      "Mutable": false,
      "DeveloperOnlyAttribute": true
    }
  ]
}